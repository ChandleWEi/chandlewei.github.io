
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>ChandleWEi's Blog</title>
	<meta name="author" content="Chandler Wei">

	
	<meta name="description" content=" 1039个读者 译者: attaboy 02/05/2008 原文 引用 双语对照及眉批 简介 十个不可或缺的 ruby gems 在我编程的时候有些东西是必须的。 于是我总结了这个 10 个最重要的 ruby gems 列表， 它们将使你的生活变得更轻松， 即使你只是花少量的时间用 ruby &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="ChandleWEi's Blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">ChandleWEi's Blog</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:ChandleWEi.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/ChandleWEi" title="Twitter">Twitter</a>
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:ChandleWEi.github.io">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/05/27/%E5%8D%81%E4%B8%AA%E4%B8%8D%E5%8F%AF%E6%88%96%E7%BC%BA%E7%9A%84_ruby_gems/">
		
			十个不可或缺的_ruby_gems</a>
	</h2>
	<div class="entry-content">
		<p> 1039个读者 译者: attaboy 02/05/2008 原文 引用 双语对照及眉批 简介 十个不可或缺的 ruby gems 在我编程的时候有些东西是必须的。 于是我总结了这个 10 个最重要的 ruby gems 列表， 它们将使你的生活变得更轻松， 即使你只是花少量的时间用 ruby 编程。 Gems 有很多， 不过这些都是精华！ capistrano Capistrano 是 Rails 应用程序开发更加从容。 它还是一个用来和远程服务器交互的聪明的 framework 。 事实上我已经备份了用 Capistrano 写的代码， 作为 Rake/Net::SSH 或者 shell 代码之外的另一个选择。 chronic Chronic 是一个自然语言分析器， 它的名字是个俏皮的双关。 » Chronic.parse(‘3rd wednesday in november’) =&gt; Wed Nov 19 12:00:00 0000 2008 ferret Ferret 会让你的老板、客户爱死你。 它提供了快速文本查询的工具， 你甚至可以可以给 PDF 文件和 Office 文档加索引。 我已经在很多网站上使用 Ferret 了， 我的客户们都说：“ 哇， 这看起来像 Google!” hpricot hpricot 是一个快速、容易上手的 HTML 分析器。 如果你发现自己需要解析 HTML 抑或 XML 的内容， hpricot 是最简捷的方法之一。 事实上我在 Helipad 中的很多地方使用了这个工具。 rcov rcov 是使你的程序不经常崩溃的理由之一。 它分析你的代码， 高亮显示你的测试代码遗漏的部分。 它速度快， 不占资源， 并且能减轻头痛 ：） scruffy 我一直用 Gruff 来画图， 不过当 scruffy 很完善的时候， 我更喜欢 scruffy API 的设计。 它工作的方式非常精妙： 产生简单的 XML 来驱动 SVG 图。 因为 SVG 提供了一直直观地处理原始图片的方式， 你可以丢掉那些大量杂乱难懂的代码了。 我经常继承和重写 scruffy 来做成各种精巧的图片， 如果你觉得你现在用类库不太灵， 何不试试 scruffy 呢。 simple-rss simple-rss 分析 RSS 和 atom feed， 干的又快又好。 它的分析器也容易扩展， 这样你就可以应付那些无效的或专有的 feeds。 thin Thin 使用 EventMachine， Rack 和 Mongrel 来创建一个快速的 web server。 我用它来做 Rails 的本地开发， 它比 mongrel 稍快。 要在我的 Rails 程序中使用它， 只需要在我的程序目录下输入 thin start 就行了。 当时我的 thin 和 IE cookies 之间有点儿冲突， 要记得如果你也遇到同样的问题， 你的程序可能有麻烦。 （说明: 这个问题在 thin 0.6.1 和 Rails 2 环境下好像修正了。） 要安装 thin， 使用 gem install thin 命令。 turn Turn 使你的 Test::Unit 输出更易读。 Turn 也行看起来不那么招人喜欢， 但它确实对阅读测试结果有很大帮助。 在维护 Helicoid 的时候我对测试严重依赖， 所以任何能使这项工作变得更简洁的东西我都乐于尝试。 要安装 turn， 使用 gem install turn 命令。 wirble wirble 使 irb 用起来更简单。 你有更好的对 history 的支持（在 session 间）以及颜色， 所以在繁重的工作中，你的眼睛和手指能得到休息。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-05-27T00:00:00+08:00" pubdate data-updated="true">May 27<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/rails/'>rails</a>


</div>
	
	<div class="comments"><a href="/blog/2008/05/27/%E5%8D%81%E4%B8%AA%E4%B8%8D%E5%8F%AF%E6%88%96%E7%BC%BA%E7%9A%84_ruby_gems/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/05/20/Ajax_%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90_ZZ/">
		
			Ajax_性能分析_ZZ</a>
	</h2>
	<div class="entry-content">
		<p>|
# Ajax 性能分析</p>

<p><em>使用最新的工具分析性能</em></p>

<table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
      <td><img src="http://www.ibm.com/developerworks/i/dw.gif" alt="developerWorks" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>文档选项</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>&lt;tr valign=&#8221;top&#8221;&gt;&lt;td width=&#8221;8&#8221;&gt;<img alt="" height="1" width="8" src="//www.ibm.com/i/c.gif" />&lt;/td&gt;&lt;td width=&#8221;16&#8221;&gt;<img alt="" width="16" height="16" src="//www.ibm.com/i/c.gif" />&lt;/td&gt;&lt;td class=&#8221;small&#8221; width=&#8221;122&#8221;&gt;&lt;p&gt;<span class="ast">未显示需要 JavaScript 的文档选项</span>&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
      <td><img src="http://www.ibm.com/i/v14/icons/printer.gif" alt="将打印机的版面设置成横向打印模式" /></td>
    </tr>
  </tbody>
</table>

<p>** <a href="javascript:print()">打印本页</a>**</p>

<table>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
      <td><img src="http://www.ibm.com/i/v14/icons/em.gif" alt="将此页作为电子邮件发送" /></td>
    </tr>
  </tbody>
</table>

<p><a href="javascript:document.email.submit();"><strong>将此页作为电子邮件发送</strong></a></p>

<table>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
      <td><img src="http://www.ibm.com/i/v14/icons/fw_bold.gif" alt="英文原文 " /></td>
    </tr>
  </tbody>
</table>

<p><a href="http://www.ibm.com/developerworks/web/library/wa-aj-perform/"><strong>英文原文</strong></a></p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>级别： 中级</p>

<p><a href="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/?ca=drs-tp2008#author">Kristopher William Zyp</a> ( <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#107;&#114;&#105;&#115;&#122;&#121;&#112;&#064;&#120;&#117;&#099;&#105;&#097;&#046;&#099;&#111;&#109;&#063;&#115;&#117;&#098;&#106;&#101;&#099;&#116;&#061;&#065;&#106;&#097;&#120;&#037;&#050;&#048;&#037;&#069;&#054;&#037;&#056;&#048;&#037;&#065;&#055;&#037;&#069;&#056;&#037;&#056;&#051;&#037;&#066;&#068;&#037;&#069;&#053;&#037;&#056;&#056;&#037;&#056;&#054;&#037;&#069;&#054;&#037;&#057;&#069;&#037;&#057;&#048;&#038;&#099;&#099;&#061;&#114;&#117;&#116;&#101;&#114;&#098;&#111;&#064;&#117;&#115;&#046;&#105;&#098;&#109;&#046;&#099;&#111;&#109;">kriszyp@xucia.com</a>), 软件开发人员, Xucia</p>

<p>2008 年 5 月 19 日</p>

<blockquote>
  <p>由 于 Asynchronous JavaScript + XML（Ajax）的出现，用户对交互性和性能的期望越来越高了，而开发人员也把 Ajax 视为 Web 应用程序中必需的部分。随着更多的代码转移到客户端和网络模型的改变，开发人员社区构建了更多工具来解决 Ajax 独特的性能问题。本文讨论如何使用工具集在 Ajax 应用程序中寻找和纠正性能问题。</p>
</blockquote>

<p>性能是促使开发人 员用 Ajax 改进应用程序的主要因素之一。Ajax 可以与服务器进行通信而不必请求完整的页面，因此可以改进响应时间。通过减少响应时间，Ajax 可以提供更好的用户体验。但是，分析和改进 Ajax 应用程序需要一套与传统 Web 应用程序不同的工具。本文讨论这些工具并解释如何使用它们寻找和纠正性能问题。</p>

<table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><strong>常用的缩写词</strong></td>
    </tr>
  </tbody>
</table>

<ul>
  <li><strong>CSS</strong>：Cascading Style Sheets</li>
  <li><strong>HTML</strong>：Hypertext Markup Language</li>
  <li><strong>XML</strong>：Extensible Markup Language</li>
  <li>
    <p><strong>HTTP</strong>：Hypertext Transfer Protocol</p>

    <table>
      <tbody>
        <tr>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>Ajax 应用程序的性能取决于 Web 应用程序的几个方面：</p>

<ul>
  <li>服务器响应时间</li>
  <li>网络传输时间</li>
  <li>客户机 JavaScript 的处理时间</li>
</ul>

<p>在 传统的 Web 应用程序开发中，服务器响应时间是性能分析的主要重点。大多数性能分析度量应用服务器是否能够快速处理请求、执行必需的应用程序逻辑和生成响应。在 Ajax 应用程序开发中，这仍然是应用程序性能的一个重要方面，但是开发人员对这个方面的了解已经很深入了，所以本文主要关注性能的其他方面。</p>

<table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><strong>developerWorks Ajax 参考资料中心</strong></td>
    </tr>
    <tr>
      <td><a href="http://www.ibm.com/developerworks/cn/ajax/">Ajax 参考资料中心</a> 是一站式站点，包含关于开发 Ajax 应用程序的免费工具、代码和信息。 <a href="http://www.ibm.com/developerworks/forums/dw_forum.jsp?forum=965&amp;cat=11">active Ajax community forum</a> 由 Ajax 专家 Jack Herrington 主持，您可以在这里向其他开发人员寻求帮助。</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>工具</p>

<p>为了了解 Web 应用程序的哪些方面需要改进，必须适当地分析应用程序的组件。本文讨论如何使用 Firefox 的 Firebug 扩展和 YSlow 插件分析 Web 应用程序。安装这些工具之后，连接正在开发的站点并单击 Firefox 状态栏中的 <strong>YSlow</strong>。这会在 Firebug 中打开 YSlow 界面。现在单击 <strong>Performance</strong> 按钮。YSlow 对应用程序进行分析，并提供关于应用程序网络传输时间的不同部分的报告，见图 1。</p>

<p><strong>图 1. YSlow 报告</strong><br />
  <img src="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/yslow.jpg" alt="YSlow 报告" />  </p>

<p>网络传输时间</p>

<p>在大多数 Web 应用程序中，网络传输时间是主要的瓶颈。可以通过 YSlow 报告分析网络传输的不同方面，了解如何减少传输时间。</p>

<p>减少 HTTP 请求</p>

<p>每个 HTTP 请求都需要花一些时间发送到服务器并接收响应。即使响应很小，仍然需要基本的往返时间，这称为_延迟_。YSlow 根据发出的 HTTP 请求数量进行评级。大量的请求会导致装载速度显著降低。可以简化页面，减少需要装载的组件，从而减少 HTTP 请求。可以通过使用 CSS sprites 减少图像请求。获得一些可以生成 CSS sprites 的工具（参见 <a href="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/?ca=drs-tp2008#resources">参考资料</a> 一节）。为了减少脚本和 CSS 请求，可以以内联方式把它们包含在页面中，或者把多个脚本或 CSS 文件组合在一起。</p>

<p>可以提供指定了未来日期的 HTTP 缓存过期头，这会让浏览器对组件进行缓存，因此可以减少 HTTP 请求。当用户在页面之间导航，或者返回您的站点时，可以缓存组件，不需要在每次访问站点时都下载它。如果提供了适当的过期头，代理也可以缓存经常装载的内 容。过期头像下面这样：</p>

<p>|
Expires: Wed, 10 Mar 2009 10:00:00 GMT<br />
|</p>

<p>请记住，如果把过期日期设置为很长时间以后，那么即使已经修改了内容，浏览器仍然会使用缓存的内容。把过期日期设置为一天以后可能比较合适。还可以通过修改文件名使文件名包含版本信息，因此在发布新版本时，就会请求新的 URL，这会让浏览器发出新的请求。可以用 <code>ExpiresDefault</code> 指令配置 Apache，从而添加过期头：</p>

<p>|
ExpiresDefault “access plus 10 years”<br />
  |</p>

<p>还可以通过 YSlow 检查页面的总下载大小（单击 <strong>Stats</strong> 按钮）。YSlow 会显示首次访问（没有缓存）时的页面大小和后续页面访问（可以使用缓存）时的页面大小。</p>

<p>替代的 DNS 查询</p>

<p>HTTP 请求可能涉及多次服务器往返。如果资源使用多个主机或域名，浏览器可能需要多次执行 Domain Name System（DNS）查询。如果必须查询多个名称，YSlow 会发出警告。但是一定要注意，多个 DNS 名称实际上也可能提高性能。大多数浏览器只允许每个主机名有两个连接。但是，通过使用多个主机名，可以建立更多的连接，因此可以进行更多的并发下载。</p>

<table>
  <tbody>
    <tr>
      <td><img src="http://www.ibm.com/i/c.gif" alt="" /></td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>根据 Wikipedia 上的说法，<em>缩减（minify）</em> 过程就是从源代码中删除所有不必要的字符，但是不改变功能。这些不必要的字符通常包括空格字符、换行字符、注释和块分界符。这些字符用来提高代码的可读性，但是对执行代码而言并不是必要的。</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>减少组件传输的大小</p>

<p>除了减少 HTTP 请求数量之外，减少请求的组件的大小也对性能有好处。可以应用技术手段压缩某些格式。YSlow 会提示哪些技术可以有效地减少响应大小。</p>

<p>通 过消除不必要的空格和注释，可以缩减 JavaScript 代码、CSS 和 HTML。通过改变变量名，可以进一步压缩 JavaScript 代码。Packer 和 YUI 压缩器是有效的 JavaScript 压缩工具，YUI 压缩器也支持对 CSS 进行压缩。还可以用 JavaScript CompressorRater 比较压缩效果（参见 <a href="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/?ca=drs-tp2008#resources">参考资料</a> 一节）。</p>

<p>对 于基于文本的资源，最有效的压缩方法是启用 gzip（GNU zip 的缩写）。通过使用 gzip，一般情况下可以把内容大小减少大约 70%。不要对已经压缩的资源使用 gzip，比如图像和视频。适合使用 gzip 的资源包括 CSS、HTML、JavaScript 代码、XML 和 JavaScript Serialized Object Notation（JSON）。Apache 1.3 通过 <code>mod_gzip</code> 支持 gzip，Apache 2.0 使用 <code>mod_deflate</code> 。</p>

<p>通过减少资源大小来减小 HTTP 响应是很重要的，但是减小 HTTP 请求也很重要。对于许多因特网用户来说，上传速度比下载速度慢得多，所以性能对请求的大小更敏感。大的 URL、大量提交数据和过多的头都会增加请求的大小。在 Firebug 中，可以在 <strong>Net</strong> 选项卡上查看请求，见图 2。可以展开每个请求，查看请求头。不必要地增大请求头的常见原因之一是大的 cookie。cookie 包含在每个请求的头中，因此大的 cookie 会显著增加开销。</p>

<p><strong>图 2. Firebug Net 面板</strong><br />
  <img src="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/firebug-net.jpg" alt="Firebug Net 面板" />  </p>

<p>Java™ 2 Platform, Enterprise Edition（J2EE）应用程序可以通过一个简单的过滤器 Resource Accelerate 应用这些性能改进技术（缓存过期日期、gzip 和 JavaScript 压缩）。还可以使用 JavaServer Pages（JSP）标记库 pack:tag 对资源进行压缩。还可以选用其他技术，更多信息参见 <a href="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/?ca=drs-tp2008#resources">参考资料</a> 一节。</p>

<p>改进网络传输性能的其他技术</p>

<p>YSlow 建议的另一种改进技术是使用内容交付网络（CDN）。CDN 提供一个分布式服务器网络，内容放在比较接近最终用户的服务器上，从而改进响应时间。</p>

<p>通 过适当地调整 CSS 和脚本的次序，也可以加快显示 Web 页面的速度。YSlow 会分析 CSS 和脚本声明的位置，并提出改进次序的建议。建议把 CSS 声明放在页面顶部，这样就可以马上使用 CSS 显示页面。把脚本放在页面底部，这样就可以在装载 JavaScript 代码进行交互之前显示页面。</p>

<p>JavaScript 处理时间</p>

<p>服 务器成功地生成 Web 页面并把页面传输给浏览器之后，Ajax 应用程序通常依靠 JavaScript 代码与用户进行交互。大多数用户愿意花一点儿时间等待页面完全下载，但是高品质的交互依赖于页面的迅速反应，所以对页面上各种组件的快速响应是实现良好用 户体验的最重要的方面。另外，在等待下载资源时，浏览器常常仍然有响应能力，但是如果连续执行 JavaScript 代码，有可能完全锁住浏览器。</p>

<p>Firebug 附带一个分析工具。进入 <strong>Console</strong> 选项卡并单击 <strong>Profile</strong>， 就可以启动这个分析工具。它可以帮助了解 Web 应用程序的哪些部分大量使用了 JavaScript 代码。如果重复执行相同的操作，这个工具会产生更准确的结果。例如，如果在装载页面时执行大量 JavaScript 代码，那么可以多次装载页面。如果有 JavaScript 鼠标事件处理函数，那么可以把鼠标在页面上移动一段时间，让这个工具收集足够的信息。完成操作之后，单击 <strong>Profile</strong> 按钮再次显示分析结果，见图 3。</p>

<p><strong>图 3. Firebug 分析结果</strong><br />
  <img src="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/firebug-profile.jpg" alt="Firebug 分析结果" />  </p>

<p>分 析结果列出在分析期间发生的所有函数调用。每个条目显示调用函数的次数和关于函数调用的处理时间的统计数据。Time 列表示等待这个函数返回所花费的总时间量，Own Time 列表示等待这个函数返回所花费的总时间量减去这个函数等待它发出的调用返回的时间。Own time 列通常是最重要的数据，因为它们指出哪些地方发生了耗时很长的处理，而且 Percent 列中的值基于这些数据。在默认情况下，Firebug 按照 Percent 列排序，最高的值放在最上面。耗时最长的调用放在最上面，您可以集中精力改进这些函数的性能。在使用 Firebug 时，很容易访问函数的源代码；只需单击列表中的条目，就会转到那个函数。</p>

<p>在评估 JavaScript 函数的性能时，还要注意调用函数的次数。函数本身可能并不慢（可以查看函数的平均处理时间），但是调用得太频繁了。有时候，不必要地频繁调用一个函数会造成性能问题。例如， <code>onmousemove</code> 等鼠标事件处理函数常常会产生大量调用。</p>

<p>如果发现某个函数花费的处理时间很长，就需要检查 JavaScript 代码，寻找可能存在的问题。 <a href="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/?ca=drs-tp2008#table1">表 1</a> 列出一些缓慢的 JavaScript 操作。关于性能基准的更多信息，参见 <a href="http://www.ibm.com/developerworks/cn/web/wa-aj-perform/?ca=drs-tp2008#resources">参考资料</a> 一节。</p>

<p><strong>表 1. 缓慢的 JavaScript 操作</strong>  </p>

<table>
  <thead>
    <tr>
      <th>操作</th>
      <th>说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DOM 访问</td>
      <td>与 DOM 的交互常常比普通 JavaScript 代码慢。与 DOM 的交互常常是无法回避的，但是应该尽可能减少。例如，用字符串动态地创建 HTML 并设置 innerHTML 常常比用 DOM 方法创建 HTML 要快。</td>
    </tr>
    <tr>
      <td>eval</td>
      <td>应该尽可能避免使用 <code>eval</code> 方法，因为脚本运算的开销很大。</td>
    </tr>
    <tr>
      <td>with</td>
      <td>使用 <code>with</code> 语句创建额外的范围对象，这会减慢变量访问并造成二义性。</td>
    </tr>
    <tr>
      <td>for-in 循环</td>
      <td>使用传统的 <code>for (var i=0; i&lt;array.length;i++)</code> 循环遍历数组，而不是使用 for-in 循环。不幸的是，大多数 JavaScript 环境中的 for-in 循环实现很慢。</td>
    </tr>
  </tbody>
</table>

<p>其他浏览器</p>

<p>带 Firebug 和 YSlow 的 Firefox 是分析性能的最佳选择。对于 Mac OS X 上的 Safari，还可以使用 Web Inspector 分析 HTTP 请求。对于 JavaScript 性能分析，可以使用手工技术评估某些函数的性能。手工评估函数的方法是，用 <code>Date</code> 函数度量执行时间，见清单 1：</p>

<p><strong>清单 1. 手工计时</strong>  </p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>function myFunctionToTest() {<br />
var start = new Date().getTime();<br />
… // body of the function<br />
var totalTime = new Date().getTime() - start;<br />
}  </p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>可能影响性能的一个重要问题是 Windows® Internet Explorer® 糟糕的内存管理。随着创建更多的对象和属性，没有应用补丁的 Internet Explorer 6 和更早版本会逐渐变慢。一般来说，如果创建的对象超过 5000 个，旧版本的 Internet Explorer 就非常慢了。</p>

<p>结束语</p>

<p>通 过使用 Firebug 和 YSlow，可以彻底地分析 Web 应用程序并进行合理的修改来提升性能。YSlow 提供的详细信息有助于减少网络传输时间。Firebug 提供详细的 JavaScript 分析，有助于识别需要改进的代码。这些工具可以帮助开发人员开发性能更好的 Web 应用程序，提供更好的用户体验。</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-05-20T00:00:00+08:00" pubdate data-updated="true">May 20<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2008/05/20/Ajax_%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90_ZZ/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/05/19/curl%E6%89%8B%E5%86%8C/">
		
			Curl手册</a>
	</h2>
	<div class="entry-content">
		<h2 id="section"> </h2>

<p>今天测试google 的应用，发现google竟然拒绝wget 的访问，所以下找了个curl 放在本地用来查询用</p>

<table>
  <tbody>
    <tr>
      <td>作者 rock</td>
      <td>25 六月, 2006</td>
    </tr>
  </tbody>
</table>

<p>拿来做下记事本(堕落啊。。)，各位大大请跳过～</p>

<p>You always find news about what’s going on as well as the latest versions from the curl web pages, located at:  </p>

<p>http://curl.haxx.se  </p>

<p><strong>SIMPLE USAGE</strong>  </p>

<p>Get the main page from netscape’s web-server:  </p>

<p>curl http://www.netscape.com/  </p>

<p>Get the README file the user’s home directory at funet’s ftp-server:  </p>

<p>curl ftp://ftp.funet.fi/README  </p>

<p>Get a web page from a server using port 8000:  </p>

<p>curl http://www.weirdserver.com:8000/  </p>

<p>Get a list of a directory of an FTP site:  </p>

<p>curl ftp://cool.haxx.se/  </p>

<p>Get a gopher document from funet’s gopher server:  </p>

<p>curl gopher://gopher.funet.fi  </p>

<p>Get the definition of curl from a dictionary:  </p>

<p>curl dict://dict.org/m:curl  </p>

<p>Fetch two documents at once:  </p>

<p>curl ftp://cool.haxx.se/ http://www.weirdserver.com:8000/  </p>

<p><strong>DOWNLOAD TO A FILE</strong>  </p>

<p>Get a web page and store in a local file:  </p>

<p>curl -o thatpage.html http://www.netscape.com/  </p>

<p>Get a web page and store in a local file, make the local file get the name<br />
of the remote document (if no file name part is specified in the URL, this<br />
will fail):  </p>

<p>curl -O http://www.netscape.com/index.html  </p>

<p>Fetch two files and store them with their remote names:  </p>

<p>curl -O www.haxx.se/index.html -O curl.haxx.se/download.html  </p>

<p><strong>USING PASSWORDS</strong>  </p>

<p>** FTP**  </p>

<p>To ftp files using name+passwd, include them in the URL like:  </p>

<p>curl ftp://name:passwd@machine.domain:port/full/path/to/file  </p>

<p>or specify them with the -u flag like  </p>

<p>curl -u name:passwd ftp://machine.domain:port/full/path/to/file  </p>

<p>** FTPS**  </p>

<p>It is just like for FTP, but you may also want to specify and use<br />
SSL-specific options for certificates etc.  </p>

<p>** HTTP**  </p>

<p>The HTTP URL doesn’t support user and password in the URL string. Curl<br />
does support that anyway to provide a ftp-style interface and thus you can<br />
pick a file like:  </p>

<p>curl http://name:passwd@machine.domain/full/path/to/file  </p>

<p>or specify user and password separately like in  </p>

<p>curl -u name:passwd http://machine.domain/full/path/to/file  </p>

<p>HTTP offers many different methods of authentication and curl supports<br />
several: Basic, Digest, NTLM and Negotiate. Without telling which method to<br />
use, curl defaults to Basic. You can also ask curl to pick the most secure<br />
ones out of the ones that the server accepts for the given URL, by using<br />
–anyauth.  </p>

<p>NOTE! Since HTTP URLs don’t support user and password, you can’t use that<br />
style when using Curl via a proxy. You _must_ use the -u style fetch<br />
during such circumstances.  </p>

<p>** HTTPS**  </p>

<p>Probably most commonly used with private certificates, as explained below.  </p>

<p>** GOPHER**  </p>

<p>Curl features no password support for gopher.  </p>

<p><strong>PROXY</strong>  </p>

<p>Get an ftp file using a proxy named my-proxy that uses port 888:  </p>

<p>curl -x my-proxy:888 ftp://ftp.leachsite.com/README  </p>

<p>Get a file from a HTTP server that requires user and password, using the<br />
same proxy as above:  </p>

<p>curl -u user:passwd -x my-proxy:888 http://www.get.this/  </p>

<p>Some proxies require special authentication. Specify by using -U as above:  </p>

<p>curl -U user:passwd -x my-proxy:888 http://www.get.this/  </p>

<p>See also the environment variables Curl support that offer further proxy<br />
control.  </p>

<p><strong>RANGES</strong>  </p>

<p>With HTTP 1.1 byte-ranges were introduced. Using this, a client can request<br />
to get only one or more subparts of a specified document. Curl supports<br />
this with the -r flag.  </p>

<p>Get the first 100 bytes of a document:  </p>

<p>curl -r 0-99 http://www.get.this/  </p>

<p>Get the last 500 bytes of a document:  </p>

<p>curl -r -500 http://www.get.this/  </p>

<p>Curl also supports simple ranges for FTP files as well. Then you can only<br />
specify start and stop position.  </p>

<p>Get the first 100 bytes of a document using FTP:  </p>

<p>curl -r 0-99 ftp://www.get.this/README  </p>

<p><strong>UPLOADING</strong>  </p>

<p>** FTP**  </p>

<p>Upload all data on stdin to a specified ftp site:  </p>

<p>curl -T - ftp://ftp.upload.com/myfile  </p>

<p>Upload data from a specified file, login with user and password:  </p>

<p>curl -T uploadfile -u user:passwd ftp://ftp.upload.com/myfile  </p>

<p>Upload a local file to the remote site, and use the local file name remote<br />
too:<br />
curl -T uploadfile -u user:passwd ftp://ftp.upload.com/  </p>

<p>Upload a local file to get appended to the remote file using ftp:  </p>

<p>curl -T localfile -a ftp://ftp.upload.com/remotefile  </p>

<p>Curl also supports ftp upload through a proxy, but only if the proxy is<br />
configured to allow that kind of tunneling. If it does, you can run curl in<br />
a fashion similar to:  </p>

<p>curl –proxytunnel -x proxy:port -T localfile ftp.upload.com  </p>

<p>** HTTP**  </p>

<p>Upload all data on stdin to a specified http site:  </p>

<p>curl -T - http://www.upload.com/myfile  </p>

<p>Note that the http server must have been configured to accept PUT before<br />
this can be done successfully.  </p>

<p>For other ways to do http data upload, see the POST section below.  </p>

<p><strong>VERBOSE / DEBUG</strong>  </p>

<p>If curl fails where it isn’t supposed to, if the servers don’t let you in,<br />
if you can’t understand the responses: use the -v flag to get verbose<br />
fetching. Curl will output lots of info and what it sends and receives in<br />
order to let the user see all client-server interaction (but it won’t show<br />
you the actual data).  </p>

<p>curl -v ftp://ftp.upload.com/  </p>

<p>To get even more details and information on what curl does, try using the<br />
–trace or –trace-ascii options with a given file name to log to, like<br />
this:  </p>

<p>curl –trace trace.txt www.haxx.se  </p>

<p><strong>DETAILED INFORMATION</strong>  </p>

<p>Different protocols provide different ways of getting detailed information<br />
about specific files/documents. To get curl to show detailed information<br />
about a single file, you should use -I/–head option. It displays all<br />
available info on a single file for HTTP and FTP. The HTTP information is a<br />
lot more extensive.  </p>

<p>For HTTP, you can get the header information (the same as -I would show)<br />
shown before the data by using -i/–include. Curl understands the<br />
-D/–dump-header option when getting files from both FTP and HTTP, and it<br />
will then store the headers in the specified file.  </p>

<p>Store the HTTP headers in a separate file (headers.txt in the example):  </p>

<p>curl –dump-header headers.txt curl.haxx.se  </p>

<p>Note that headers stored in a separate file can be very useful at a later<br />
time if you want curl to use cookies sent by the server. More about that in<br />
the cookies section.  </p>

<p><strong>POST (HTTP)</strong>  </p>

<p>It’s easy to post data using curl. This is done using the -d <data>  
option. The post data must be urlencoded.  </data></p>

<p>Post a simple “name” and “phone” guestbook.  </p>

<p>curl -d “name=Rafael%20Sagula&amp;phone=3320780”<br />
http://www.where.com/guest.cgi  </p>

<p>How to post a form with curl, lesson #1:  </p>

<p>Dig out all the <input /> tags in the form that you want to fill in. (There’s<br />
a perl program called formfind.pl on the curl site that helps with this).  </p>

<p>If there’s a “normal” post, you use -d to post. -d takes a full “post<br />
string”, which is in the format  </p>

<variable1>=<data1>&amp;<variable2>=<data2>&amp;&#8230;  
    
The &#8216;variable&#8217; names are the names set with &#8220;name=&#8221; in the <input /> tags, and  
the data is the contents you want to fill in for the inputs. The data \*must\*  
be properly URL encoded. That means you replace space with + and that you  
write weird letters with %XX where XX is the hexadecimal representation of  
the letter&#8217;s ASCII code.  
    
Example:  
    
(page located at http://www.formpost.com/getthis/  
    
<form action="post.cgi" method="post">  
&lt;input name=user size=10&gt;  
&lt;input name=pass type=password size=10&gt;  
&lt;input name=id type=hidden value=&#8221;blablabla&#8221;&gt;  
&lt;input name=ding value=&#8221;submit&#8221;&gt;  
</form>  
    
We want to enter user &#8216;foobar&#8217; with password &#8216;12345&#8217;.  
    
To post to this, you enter a curl command line like:  
    
curl -d &#8220;user=foobar&amp;pass=12345&amp;id=blablabla&amp;ding=submit&#8221; (continues)  
http://www.formpost.com/getthis/post.cgi  
    
    
While -d uses the application/x-www-form-urlencoded mime-type, generally  
understood by CGI&#8217;s and similar, curl also supports the more capable  
multipart/form-data type. This latter type supports things like file upload.  
    
-F accepts parameters like -F &#8220;name=contents&#8221;. If you want the contents to  
be read from a file, use &lt;@filename&gt; as contents. When specifying a file,  
you can also specify the file content type by appending &#8216;;type=<mime type="">&#8217;  
to the file name. You can also post the contents of several files in one  
field. For example, the field name &#8216;coolfiles&#8217; is used to send three files,  
with different content types using the following syntax:  
    
curl -F &#8220;coolfiles=@fil1.gif;type=image/gif,fil2.txt,fil3.html&#8221;  
http://www.post.com/postit.cgi  
    
If the content-type is not specified, curl will try to guess from the file  
extension (it only knows a few), or use the previously specified type (from  
an earlier file if several files are specified in a list) or else it will  
using the default type &#8216;text/plain&#8217;.  
    
Emulate a fill-in form with -F. Let&#8217;s say you fill in three fields in a  
form. One field is a file name which to post, one field is your name and one  
field is a file description. We want to post the file we have written named  
&#8220;cooltext.txt&#8221;. To let curl do the posting of this data instead of your  
favourite browser, you have to read the HTML source of the form page and  
find the names of the input fields. In our example, the input field names  
are &#8216;file&#8217;, &#8216;yourname&#8217; and &#8216;filedescription&#8217;.  
    
curl -F &#8220;file=@cooltext.txt&#8221; -F &#8220;yourname=Daniel&#8221;  
-F &#8220;filedescription=Cool text file with cool text inside&#8221;  
http://www.post.com/postit.cgi  
    
To send two files in one post you can do it in two ways:  
    
1. Send multiple files in a single &#8220;field&#8221; with a single field name:  
curl -F &#8220;pictures=@dog.gif,cat.gif&#8221;  
2. Send two fields with two field names:  
    
curl -F &#8220;docpicture=@dog.gif&#8221; -F &#8220;catpicture=@cat.gif&#8221;  
    
To send a field value literally without interpreting a leading &#8216;@&#8217;  
or &#8216;&lt;&#8217;, or an embedded &#8216;;type=&#8217;, use &#8211;form-string instead of  
-F. This is recommended when the value is obtained from a user or  
some other unpredictable source. Under these circumstances, using  
-F instead of &#8211;form-string would allow a user to trick curl into  
uploading a file.  
    
**REFERRER**  
    
A HTTP request has the option to include information about which address  
that referred to actual page. Curl allows you to specify the  
referrer to be used on the command line. It is especially useful to  
fool or trick stupid servers or CGI scripts that rely on that information  
being available or contain certain data.  
    
curl -e www.coolsite.com http://www.showme.com/  
    
NOTE: The referer field is defined in the HTTP spec to be a full URL.  
    
**USER AGENT**  
    
A HTTP request has the option to include information about the browser  
that generated the request. Curl allows it to be specified on the command  
line. It is especially useful to fool or trick stupid servers or CGI  
scripts that only accept certain browsers.  
    
Example:  
    
curl -A &#8216;Mozilla/3.0 (Win95; I)&#8217; http://www.nationsbank.com/  
    
Other common strings:  
&#8216;Mozilla/3.0 (Win95; I)&#8217; Netscape Version 3 for Windows 95  
&#8216;Mozilla/3.04 (Win95; U)&#8217; Netscape Version 3 for Windows 95  
&#8216;Mozilla/2.02 (OS/2; U)&#8217; Netscape Version 2 for OS/2  
&#8216;Mozilla/4.04 [en] (X11; U; AIX 4.2; Nav)&#8217; NS for AIX  
&#8216;Mozilla/4.05 [en] (X11; U; Linux 2.0.32 i586)&#8217; NS for Linux  
    
Note that Internet Explorer tries hard to be compatible in every way:  
&#8216;Mozilla/4.0 (compatible; MSIE 4.01; Windows 95)&#8217; MSIE for W95  
    
Mozilla is not the only possible User-Agent name:  
&#8216;Konqueror/1.0&#8217; KDE File Manager desktop client  
&#8216;Lynx/2.7.1 libwww-FM/2.14&#8217; Lynx command line browser  
    
**COOKIES**  
    
Cookies are generally used by web servers to keep state information at the  
client&#8217;s side. The server sets cookies by sending a response line in the  
headers that looks like &#8216;Set-Cookie: <data>&#8217; where the data part then  
typically contains a set of NAME=VALUE pairs (separated by semicolons &#8216;;&#8217;  
like &#8220;NAME1=VALUE1; NAME2=VALUE2;&#8221;). The server can also specify for what  
path the &#8220;cookie&#8221; should be used for (by specifying &#8220;path=value&#8221;), when the  
cookie should expire (&#8220;expire=DATE&#8221;), for what domain to use it  
(&#8220;domain=NAME&#8221;) and if it should be used on secure connections only  
(&#8220;secure&#8221;).  
    
If you&#8217;ve received a page from a server that contains a header like:  
Set-Cookie: sessionid=boo123; path=&#8221;/foo&#8221;;  
    
it means the server wants that first pair passed on when we get anything in  
a path beginning with &#8220;/foo&#8221;.  
    
Example, get a page that wants my name passed in a cookie:  
    
curl -b &#8220;name=Daniel&#8221; www.sillypage.com  
    
Curl also has the ability to use previously received cookies in following  
sessions. If you get cookies from a server and store them in a file in a  
manner similar to:  
    
curl &#8211;dump-header headers www.example.com  
    
&#8230; you can then in a second connect to that (or another) site, use the  
cookies from the &#8216;headers&#8217; file like:  
    
curl -b headers www.example.com  
    
While saving headers to a file is a working way to store cookies, it is  
however error-prone and not the preferred way to do this. Instead, make curl  
save the incoming cookies using the well-known netscape cookie format like  
this:  
    
curl -c cookies.txt www.example.com  
    
Note that by specifying -b you enable the &#8220;cookie awareness&#8221; and with -L  
you can make curl follow a location: (which often is used in combination  
with cookies). So that if a site sends cookies and a location, you can  
use a non-existing file to trigger the cookie awareness like:  
    
curl -L -b empty.txt www.example.com  
    
The file to read cookies from must be formatted using plain HTTP headers OR  
as netscape&#8217;s cookie file. Curl will determine what kind it is based on the  
file contents. In the above command, curl will parse the header and store  
the cookies received from www.example.com. curl will send to the server the  
stored cookies which match the request as it follows the location. The  
file &#8220;empty.txt&#8221; may be a nonexistent file.  
    
Alas, to both read and write cookies from a netscape cookie file, you can  
set both -b and -c to use the same file:  
    
curl -b cookies.txt -c cookies.txt www.example.com  
    
**PROGRESS METER**  
    
The progress meter exists to show a user that something actually is  
happening. The different fields in the output have the following meaning:  
    
% Total % Received % Xferd Average Speed Time Curr.  
Dload Upload Total Current Left Speed  
0 151M 0 38608 0 0 9406 0 4:41:43 0:00:04 4:41:39 9287  
    
From left-to-right:  
% - percentage completed of the whole transfer  
Total - total size of the whole expected transfer  
% - percentage completed of the download  
Received - currently downloaded amount of bytes  
% - percentage completed of the upload  
Xferd - currently uploaded amount of bytes  
Average Speed  
Dload - the average transfer speed of the download  
Average Speed  
Upload - the average transfer speed of the upload  
Time Total - expected time to complete the operation  
Time Current - time passed since the invoke  
Time Left - expected time left to completion  
Curr.Speed - the average transfer speed the last 5 seconds (the first  
5 seconds of a transfer is based on less time of course.)  
    
The -# option will display a totally different progress bar that doesn&#8217;t  
need much explanation!  
    
**SPEED LIMIT**  
    
Curl allows the user to set the transfer speed conditions that must be met  
to let the transfer keep going. By using the switch -y and -Y you  
can make curl abort transfers if the transfer speed is below the specified  
lowest limit for a specified time.  
    
To have curl abort the download if the speed is slower than 3000 bytes per  
second for 1 minute, run:  
    
curl -Y 3000 -y 60 www.far-away-site.com  
    
This can very well be used in combination with the overall time limit, so  
that the above operation must be completed in whole within 30 minutes:  
    
curl -m 1800 -Y 3000 -y 60 www.far-away-site.com  
    
Forcing curl not to transfer data faster than a given rate is also possible,  
which might be useful if you&#8217;re using a limited bandwidth connection and you  
don&#8217;t want your transfer to use all of it (sometimes referred to as  
&#8220;bandwidth throttle&#8221;).  
    
Make curl transfer data no faster than 10 kilobytes per second:  
    
curl &#8211;limit-rate 10K www.far-away-site.com  
    
or  
    
curl &#8211;limit-rate 10240 www.far-away-site.com  
    
Or prevent curl from uploading data faster than 1 megabyte per second:  
    
curl -T upload &#8211;limit-rate 1M ftp://uploadshereplease.com  
    
When using the &#8211;limit-rate option, the transfer rate is regulated on a  
per-second basis, which will cause the total transfer speed to become lower  
than the given number. Sometimes of course substantially lower, if your  
transfer stalls during periods.  
    
**CONFIG FILE**  
    
Curl automatically tries to read the .curlrc file (or \_curlrc file on win32  
systems) from the user&#8217;s home dir on startup.  
    
The config file could be made up with normal command line switches, but you  
can also specify the long options without the dashes to make it more  
readable. You can separate the options and the parameter with spaces, or  
with = or :. Comments can be used within the file. If the first letter on a  
line is a &#8216;#&#8217;-letter the rest of the line is treated as a comment.  
    
If you want the parameter to contain spaces, you must inclose the entire  
parameter within double quotes (&#8220;). Within those quotes, you specify a  
quote as &#8220;.  
    
NOTE: You must specify options and their arguments on the same line.  
    
Example, set default time out and proxy in a config file:  
    
#We want a 30 minute timeout:  
-m 1800  
#. .. and we use a proxy for all accesses:  
proxy = proxy.our.domain.com:8080  
    
White spaces ARE significant at the end of lines, but all white spaces  
leading up to the first characters of each line are ignored.  
    
Prevent curl from reading the default file by using -q as the first command  
line parameter, like:  
    
curl -q www.thatsite.com  
    
Force curl to get and display a local help page in case it is invoked  
without URL by making a config file similar to:  
    
#default url to get  
url = &#8220;http://help.with.curl.com/curlhelp.html&#8221;  
    
You can specify another config file to be read by using the -K/&#8211;config  
flag. If you set config file name to &#8220;-&#8221; it&#8217;ll read the config from stdin,  
which can be handy if you want to hide options from being visible in process  
tables etc:  
    
echo &#8220;user = user:passwd&#8221; | curl -K - http://that.secret.site.com  
    
**EXTRA HEADERS**  
    
When using curl in your own very special programs, you may end up needing  
to pass on your own custom headers when getting a web page. You can do  
this by using the -H flag.  
    
Example, send the header &#8220;X-you-and-me: yes&#8221; to the server when getting a  
page:  
    
curl -H &#8220;X-you-and-me: yes&#8221; www.love.com  
    
This can also be useful in case you want curl to send a different text in a  
header than it normally does. The -H header you specify then replaces the  
header curl would normally send. If you replace an internal header with an  
empty one, you prevent that header from being sent. To prevent the Host:  
header from being used:  
    
curl -H &#8220;Host:&#8221; www.server.com  
    
**FTP and PATH NAMES**  
    
Do note that when getting files with the ftp:// URL, the given path is  
relative the directory you enter. To get the file &#8216;README&#8217; from your home  
directory at your ftp site, do:  
    
curl ftp://user:passwd@my.site.com/README  
    
But if you want the README file from the root directory of that very same  
site, you need to specify the absolute file name:  
    
curl ftp://user:passwd@my.site.com//README  
    
(I.e with an extra slash in front of the file name.)  
    
**FTP and firewalls**  
    
The FTP protocol requires one of the involved parties to open a second  
connction as soon as data is about to get transfered. There are two ways to  
do this.  
    
The default way for curl is to issue the PASV command which causes the  
server to open another port and await another connection performed by the  
client. This is good if the client is behind a firewall that don&#8217;t allow  
incoming connections.  
    
curl ftp.download.com  
    
If the server for example, is behind a firewall that don&#8217;t allow connections  
on other ports than 21 (or if it just doesn&#8217;t support the PASV command), the  
other way to do it is to use the PORT command and instruct the server to  
connect to the client on the given (as parameters to the PORT command) IP  
number and port.  
    
The -P flag to curl supports a few different options. Your machine may have  
several IP-addresses and/or network interfaces and curl allows you to select  
which of them to use. Default address can also be used:  
    
curl -P - ftp.download.com  
    
Download with PORT but use the IP address of our &#8216;le0&#8217; interface (this does  
not work on windows):  
    
curl -P le0 ftp.download.com  
    
Download with PORT but use 192.168.0.10 as our IP address to use:  
    
curl -P 192.168.0.10 ftp.download.com  
    
**NETWORK INTERFACE**  
    
Get a web page from a server using a specified port for the interface:  
    
curl &#8211;interface eth0:1 http://www.netscape.com/  
    
or  
    
curl &#8211;interface 192.168.1.10 http://www.netscape.com/  
    
**HTTPS**  
    
Secure HTTP requires SSL libraries to be installed and used when curl is  
built. If that is done, curl is capable of retrieving and posting documents  
using the HTTPS protocol.  
    
Example:  
    
curl https://www.secure-site.com  
    
Curl is also capable of using your personal certificates to get/post files  
from sites that require valid certificates. The only drawback is that the  
certificate needs to be in PEM-format. PEM is a standard and open format to  
store certificates with, but it is not used by the most commonly used  
browsers (Netscape and MSIE both use the so called PKCS#12 format). If you  
want curl to use the certificates you use with your (favourite) browser, you  
may need to download/compile a converter that can convert your browser&#8217;s  
formatted certificates to PEM formatted ones. This kind of converter is  
included in recent versions of OpenSSL, and for older versions Dr Stephen  
N. Henson has written a patch for SSLeay that adds this functionality. You  
can get his patch (that requires an SSLeay installation) from his site at:  
http://www.drh-consultancy.demon.co.uk/  
    
Example on how to automatically retrieve a document using a certificate with  
a personal password:  
    
curl -E /path/to/cert.pem:password https://secure.site.com/  
    
If you neglect to specify the password on the command line, you will be  
prompted for the correct password before any data can be received.  
    
Many older SSL-servers have problems with SSLv3 or TLS, that newer versions  
of OpenSSL etc is using, therefore it is sometimes useful to specify what  
SSL-version curl should use. Use -3, -2 or -1 to specify that exact SSL  
version to use (for SSLv3, SSLv2 or TLSv1 respectively):  
    
curl -2 https://secure.site.com/  
    
Otherwise, curl will first attempt to use v3 and then v2.  
    
To use OpenSSL to convert your favourite browser&#8217;s certificate into a PEM  
formatted one that curl can use, do something like this (assuming netscape,  
but IE is likely to work similarly):  
    
You start with hitting the &#8216;security&#8217; menu button in netscape.  
    
Select &#8216;certificates-&gt;yours&#8217; and then pick a certificate in the list  
    
Press the &#8216;export&#8217; button  
    
enter your PIN code for the certs  
    
select a proper place to save it  
    
Run the &#8216;openssl&#8217; application to convert the certificate. If you cd to the  
openssl installation, you can do it like:  
    
#. /apps/openssl pkcs12 -in [file you saved] -clcerts -out [PEMfile]  
    
    
**RESUMING FILE TRANSFERS**  
    
To continue a file transfer where it was previously aborted, curl supports  
resume on http(s) downloads as well as ftp uploads and downloads.  
    
Continue downloading a document:  
    
curl -C - -o file ftp://ftp.server.com/path/file  
    
Continue uploading a document(\*1):  
    
curl -C - -T file ftp://ftp.server.com/path/file  
    
Continue downloading a document from a web server(\*2):  
    
curl -C - -o file http://www.server.com/  
    
(\*1) = This requires that the ftp server supports the non-standard command  
SIZE. If it doesn&#8217;t, curl will say so.  
    
(\*2) = This requires that the web server supports at least HTTP/1.1. If it  
doesn&#8217;t, curl will say so.  
    
**TIME CONDITIONS**  
    
HTTP allows a client to specify a time condition for the document it  
requests. It is If-Modified-Since or If-Unmodified-Since. Curl allow you to  
specify them with the -z/&#8211;time-cond flag.  
    
For example, you can easily make a download that only gets performed if the  
remote file is newer than a local copy. It would be made like:  
    
curl -z local.html http://remote.server.com/remote.html  
    
Or you can download a file only if the local file is newer than the remote  
one. Do this by prepending the date string with a &#8216;-&#8216;, as in:  
    
curl -z -local.html http://remote.server.com/remote.html  
    
You can specify a &#8220;free text&#8221; date as condition. Tell curl to only download  
the file if it was updated since yesterday:  
    
curl -z yesterday http://remote.server.com/remote.html  
    
Curl will then accept a wide range of date formats. You always make the date  
check the other way around by prepending it with a dash &#8216;-&#8216;.  
    
**DICT**  
    
For fun try  
    
curl dict://dict.org/m:curl  
curl dict://dict.org/d:heisenbug:jargon  
curl dict://dict.org/d:daniel:web1913  
    
Aliases for &#8216;m&#8217; are &#8216;match&#8217; and &#8216;find&#8217;, and aliases for &#8216;d&#8217; are &#8216;define&#8217;  
and &#8216;lookup&#8217;. For example,  
    
curl dict://dict.org/find:curl  
    
Commands that break the URL description of the RFC (but not the DICT  
protocol) are  
    
curl dict://dict.org/show:db  
curl dict://dict.org/show:strat  
    
Authentication is still missing (but this is not required by the RFC)  
    
**LDAP**  
    
If you have installed the OpenLDAP library, curl can take advantage of it  
and offer ldap:// support.  
    
LDAP is a complex thing and writing an LDAP query is not an easy task. I do  
advice you to dig up the syntax description for that elsewhere. Two places  
that might suit you are:  
    
Netscape&#8217;s &#8220;Netscape Directory SDK 3.0 for C Programmer&#8217;s Guide Chapter 10:  
Working with LDAP URLs&#8221;:  
http://developer.netscape.com/docs/manuals/dirsdk/csdk30/url.htm  
    
RFC 2255, &#8220;The LDAP URL Format&#8221; http://www.rfc-editor.org/rfc/rfc2255.txt  
    
To show you an example, this is now I can get all people from my local LDAP  
server that has a certain sub-domain in their email address:  
    
curl -B &#8220;ldap://ldap.frontec.se/o=frontec??sub?mail=\*sth.frontec.se&#8221;  
    
If I want the same info in HTML format, I can get it by not using the -B  
(enforce ASCII) flag.  
    
**ENVIRONMENT VARIABLES**  
    
Curl reads and understands the following environment variables:  
    
http\_proxy, HTTPS\_PROXY, FTP\_PROXY, GOPHER\_PROXY  
    
They should be set for protocol-specific proxies. General proxy should be  
set with  
ALL\_PROXY  
    
A comma-separated list of host names that shouldn&#8217;t go through any proxy is  
set in (only an asterisk, &#8216;\*&#8217; matches all hosts)  
    
NO\_PROXY  
    
If a tail substring of the domain-path for a host matches one of these  
strings, transactions with that node will not be proxied.  
    
    
The usage of the -x/&#8211;proxy flag overrides the environment variables.  
    
NETRC  
    
Unix introduced the .netrc concept a long time ago. It is a way for a user  
to specify name and password for commonly visited ftp sites in a file so  
that you don&#8217;t have to type them in each time you visit those sites. You  
realize this is a big security risk if someone else gets hold of your  
passwords, so therefore most unix programs won&#8217;t read this file unless it is  
only readable by yourself (curl doesn&#8217;t care though).  
    
Curl supports .netrc files if told so (using the -n/&#8211;netrc and  
&#8211;netrc-optional options). This is not restricted to only ftp,  
but curl can use it for all protocols where authentication is used.  
    
A very simple .netrc file could look something like:  
    
machine curl.haxx.se login iamdaniel password mysecret  
    
CUSTOM OUTPUT  
    
To better allow script programmers to get to know about the progress of  
curl, the -w/&#8211;write-out option was introduced. Using this, you can specify  
what information from the previous transfer you want to extract.  
    
To display the amount of bytes downloaded together with some text and an  
ending newline:  
    
curl -w &#8216;We downloaded %{size\_download} bytesn&#8217; www.download.com  
    
KERBEROS4 FTP TRANSFER  
    
Curl supports kerberos4 for FTP transfers. You need the kerberos package  
installed and used at curl build time for it to be used.  
    
First, get the krb-ticket the normal way, like with the kauth tool. Then use  
curl in way similar to:  
    
curl &#8211;krb4 private ftp://krb4site.com -u username:fakepwd  
    
There&#8217;s no use for a password on the -u switch, but a blank one will make  
curl ask for one and you already entered the real password to kauth.  
    
TELNET  
    
The curl telnet support is basic and very easy to use. Curl passes all data  
passed to it on stdin to the remote server. Connect to a remote telnet  
server using a command line similar to:  
    
curl telnet://remote.server.com  
    
And enter the data to pass to the server on stdin. The result will be sent  
to stdout or to the file you specify with -o.  
    
You might want the -N/&#8211;no-buffer option to switch off the buffered output  
for slow connections or similar.  
    
Pass options to the telnet protocol negotiation, by using the -t option. To  
tell the server we use a vt100 terminal, try something like:  
    
curl -tTTYPE=vt100 telnet://remote.server.com  
    
Other interesting options for it -t include:  
    
- XDISPLOC=<x display=""> Sets the X display location.  
    
- NEW\_ENV=&lt;var,val&gt; Sets an environment variable.  
    
NOTE: the telnet protocol does not specify any way to login with a specified  
user and password so curl can&#8217;t do that automatically. To do that, you need  
to track when the login prompt is received and send the username and  
password accordingly.  
    
PERSISTENT CONNECTIONS  
    
Specifying multiple files on a single command line will make curl transfer  
all of them, one after the other in the specified order.  
    
libcurl will attempt to use persistent connections for the transfers so that  
the second transfer to the same host can use the same connection that was  
already initiated and was left open in the previous transfer. This greatly  
decreases connection time for all but the first transfer and it makes a far  
better use of the network.  
    
Note that curl cannot use persistent connections for transfers that are used  
in subsequence curl invokes. Try to stuff as many URLs as possible on the  
same command line if they are using the same host, as that&#8217;ll make the  
transfers faster. If you use a http proxy for file transfers, practically  
all transfers will be persistent.  
    
MAILING LISTS  
    
For your convenience, we have several open mailing lists to discuss curl,  
its development and things relevant to this. Get all info at  
http://curl.haxx.se/mail/. Some of the lists available are:  
    
curl-users  
    
Users of the command line tool. How to use it, what doesn&#8217;t work, new  
features, related tools, questions, news, installations, compilations,  
running, porting etc.  
    
curl-library  
    
Developers using or developing libcurl. Bugs, extensions, improvements.  
    
curl-announce  
    
Low-traffic. Only receives announcements of new public versions. At worst,  
that makes something like one or two mails per month, but usually only one  
mail every second month.  
    
curl-and-php  
    
Using the curl functions in PHP. Everything curl with a PHP angle. Or PHP  
with a curl angle.  
    
curl-and-python  
    
Python hackers using curl with or without the python binding pycurl.  
    
Please direct curl questions, feature requests and trouble reports to one of  
these mailing lists instead of mailing any individual.
</x></data></mime></data2></variable2></data1></variable1>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-05-19T00:00:00+08:00" pubdate data-updated="true">May 19<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2008/05/19/curl%E6%89%8B%E5%86%8C/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/05/12/virtual_box_%E5%AE%89%E8%A3%85/">
		
			Virtual_box_安装</a>
	</h2>
	<div class="entry-content">
		<p>每次更新内核，vbox就不能用，这次升级到25新的vbox</p>

<p>debian包还么出来只好自己编译 </p>

<p>sudo apt-get build-dep virtualbox-ose</p>

<p>sudo svn co http://virtualbox.org/svn/vbox/trunk /opt/vbox</p>

<p>cd /opt/vbox</p>

<p>./configure</p>

<p> </p>

<p>source /opt/vbox/env.sh<br />
kmk  </p>

<p>cd ./out/linux.x86/release/bin/src<br />
make</p>

<p>make install</p>

<p> </p>

<p>modprobe vboxdrv</p>

<p>然后到能启动x 的用户</p>

<p>到/opt/vbox/out/linux.x86/release/bin这个目录</p>

<p> </p>

<p>LD_LIBRARY_PATH=. ./VirtualBox 最后启动</p>

<p> </p>

<p> </p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-05-12T00:00:00+08:00" pubdate data-updated="true">May 12<span>th</span>, 2008</time></div>
	<div class="tags">

</div>
	
	<div class="comments"><a href="/blog/2008/05/12/virtual_box_%E5%AE%89%E8%A3%85/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/05/07/%E7%AC%94%E8%AE%B0%E6%9C%AC%E6%B8%A9%E5%BA%A6%E6%8E%A7%E5%88%B6%EF%BC%8C%E5%A4%87%E5%BF%98/">
		
			笔记本温度控制，备忘</a>
	</h2>
	<div class="entry-content">
		<p>http://www.lesswatts.org/tips/</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-05-07T00:00:00+08:00" pubdate data-updated="true">May 7<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2008/05/07/%E7%AC%94%E8%AE%B0%E6%9C%AC%E6%B8%A9%E5%BA%A6%E6%8E%A7%E5%88%B6%EF%BC%8C%E5%A4%87%E5%BF%98/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/05/06/railsroad_ZZ/">
		
			railsroad_ZZ</a>
	</h2>
	<div class="entry-content">
		<p>这几天看typo的时候想，如果有uml图的话是不是就方便多了？今天发现一个好东东，Railroad！它可以帮我完成我想做的事情。</p>

<p>使用gem install railroad_generator安装Railroad。装好以后进入ROR project目录中，执行命令：</p>

<p>~# railroad -a -i -o models.dot -M 则在ror工程目录下生成一个models.dot的文件。然后执行如下命令：</p>

<table>
  <tbody>
    <tr>
      <td>~# railroad -M</td>
      <td>dot -Tsvg &gt; models.svg 就生成了此项目整个model的uml关系图。 同样的，可以生成controller的uml图。</td>
    </tr>
  </tbody>
</table>

<p>~# railroad -a -i -o controllers.dot -C</p>

<table>
  <tbody>
    <tr>
      <td>~# railroad -C</td>
      <td>dot -Tpng &gt; controllers.png</td>
    </tr>
  </tbody>
</table>

<p> </p>

<p>总结： 但是，如果执行第2步的时候出现dot命令出错的信息的时候，则需要你在系统下安装 graphviz包(注意设定环境变量)，最新版本是2.1。。。因为graphviz包来把dot文件转换成svg或者png图片文件。最好生成png格式的，因为svg格式的图不完整，不知道是不是因为我系统（suselinux）的原因，没有在windows下试验！ 效果图看附件：model有点乱，还得仔细看关系。controller不错。！</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-05-06T00:00:00+08:00" pubdate data-updated="true">May 6<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/rails/'>rails</a>


</div>
	
	<div class="comments"><a href="/blog/2008/05/06/railsroad_ZZ/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/05/06/Installing_an_all-in-one_printer_device_in_Debian%5BZZ%5D/">
		
			Installing_an_all-in-one_printer_device_in_Debian[ZZ]</a>
	</h2>
	<div class="entry-content">
		<p>Recently I had cause to buy a scanner. Being in a reasonably small home I was eager to save on desk-space, and so decided to upgrade my ageing inkjet printer at the same time. Having looked around I eventually went for an HP Photosmart C5180 device. This is my experience of installing it on Debian Lenny.</p>

<h1 id="interfaces">Interfaces</h1>

<p>The C5180 is a scanner/ink jet printer with six-ink photo quality printout and the ability to print direct from various types of media card. It comes with a USB 2.0 and Ethernet RJ-45 socket as well. Either would have suited me and, in fact, I will eventually stick it on my home network. Tonight though I was not really in a position to do that, so I went for the USB install instead. In case you are wondering I went with this device for two reasons:</p>

<ol>
  <li>I knew HP provided free software drivers for their devices.</li>
  <li>It was on special offer at the time and I saved around 30% of the regular price.</li>
</ol>

<h1 id="a-gripe">A gripe</h1>

<p>The HP drivers do not come on a CD-Rom, unlike for Mac and Windows. This is not my gripe—as you will see installing this printer did not require a CD because the drivers were as a Debian package. My gripe is that the packaging mentions both Windows and Mac support (although noting that not all features are available under Vista) but doe snot mention GNU/Linux at all. Come on HP: you’ve outshone a lot of manufacturers by releasing free drivers; so, how about giving all those newbie Ubuntu users a fighting chance and putting a penguin somewhere on the box? The install documentation is also devoid of a mention of GNU/Linux: again, for anew user it would have been nice to see something in there.</p>

<h1 id="printing">Printing</h1>

<p>As said HP provided free software drivers and these were available as Debian packages. A quick check of the excellent LinuxPrinting.org database revealed the the HPLIP/HPIJS drivers were what I needed. So <code>apt-cache search hplip</code> revealed the packages and <code>apt-get install hplip</code> installed them. I already have cups installed on this machine and HPLIP integrates with it seamlessly.</p>

<p>The installation restarted cups for me so I just needed to connect the USB port of the printer to my PC and add the printer to cups. I prefer to use the web interface for CUPS; so, pointing my browser at <code>http://locahost:631</code> brought this up. I then clicked the <code>Add printer</code> button and followed the steps. When it came to which model/driver to use, I chose “HP PhotoSmart C5100 Foomatic/hpijs, hpijs 2.8.2.10 - HPLIP 2.8.2” from the list: cups had this already recommended and selected, so it wasn’t hard to find. Printing a test page after the installation proved all was well.</p>

<h1 id="scanning">Scanning</h1>

<p>Scanning was a little more tricky. Most Linux scanning needs are met by SANE (Scanner Access Now Easy) so I installed that and the xsane frontend for it. Here I hit my first problem: SANE does not come with the relevant backend for the HP C5100 series. All was not lost though as a quick bit of Googling revealed I needed to add <code>hpaio</code> as a single line in the <code>/etc/sane.d/dll.conf</code> file. Once that was duly done, I fired up xsane to be told no devices were available. Running <code>scanimage -L</code> from a terminal revealed the device was there and being detected. Running <code>hp-check</code> (supplied with the hplip package) revealed the scanner was being detected. So why was xsane not finding it. I decided to manually pass the device URI to xsane. <code>scanimage -L</code> gives you the device URI so all I needed to run was <code>xsane hpaio:/usb/Photosmart_C5100_series?serial=MY79IQ213604MK</code> . Don’t worry about the the length of the parameter, normally you don’t need to enter that in at all.</p>

<p>Xsane reported a permissions error trying to read the device. A-ha! A solution was in sight. At this moment I slapped my hand on my forehead a few times as I remembered that both <code>scanimage -l</code> and <code>hp-check</code> were run with root permissions (sudo). USB devices are stored under <code>/dev/bus/usb/</code> and so I ran <code>ls -lR /dev/bus/usb</code> and found the C5180 in there with an owner of <code>lp</code> and a group of <code>scanner</code> . So I added my user to the scanner group with <code>groupadd -a -G scanner ryan</code> . The new group would not be present until I logged in again but as it happened I had to shut down the machine shortly afterwards anyway. If you want to refresh the current users’ groups without ending the session have a look at the <code>newgrp</code> commnand. Upon logging in again I started xsane and it found the scanner and everything worked as expected.</p>

<h1 id="conclusion">Conclusion</h1>

<p>A lot of people say the learning curve for GNU/Linux is too difficult. My experience here showed that, as far as scanner go, it could be made easier. But it was by no means a task beyond a bit of Googling and one of my reasons for writing this was to collate the information I gathered into one place. HP’s drivers work like a charm and the printer itself is marvelous, I recommend it. My next task will be to setup scanning over the network/. I’ve seen a few useful HOWTOS on that, so I’ll let you know how I get on.</p>

<p>#  </p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-05-06T00:00:00+08:00" pubdate data-updated="true">May 6<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2008/05/06/Installing_an_all-in-one_printer_device_in_Debian%5BZZ%5D/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/04/29/%E4%BF%AE%E5%A4%8Dlocale/">
		
			修复locale</a>
	</h2>
	<div class="entry-content">
		<p>localedef -v -c -i en_US -f UTF-8 en_US.UTF-8</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-04-29T00:00:00+08:00" pubdate data-updated="true">Apr 29<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2008/04/29/%E4%BF%AE%E5%A4%8Dlocale/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/04/28/pidgin_2.4.1_%E6%94%AF%E6%8C%81%E7%BE%A4%E4%B8%AD%E5%90%8D%E5%AD%97%E4%BA%86/">
		
			pidgin_2.4.1_支持群中名字了</a>
	</h2>
	<div class="entry-content">
		<p>pidgin 2.4.1 支持群中名字了 在群中打/showname就可以了</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-04-28T00:00:00+08:00" pubdate data-updated="true">Apr 28<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2008/04/28/pidgin_2.4.1_%E6%94%AF%E6%8C%81%E7%BE%A4%E4%B8%AD%E5%90%8D%E5%AD%97%E4%BA%86/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2008/04/26/2.6.25%E4%B8%8B%E5%AE%89%E8%A3%85169.12%E9%A9%B1%E5%8A%A8/">
		
			2.6.25下安装169.12驱动</a>
	</h2>
	<div class="entry-content">
		<p>转自nvidia forum </p>

<p>重新安装 #169.12的驱动，因为除了173.08其他的nvidia驱动并不能在2.6.25下安装所以要打patch</p>

<p> </p>

<p>sh /path/to/NVIDIA-Linux-x86-169.12-pkg2.run</p>

<p>–apply-patch /path/to/NVIDIA_kernel-169.12-2286310.diff.txt</p>

<h1 id="sh-nvidia-linux-x86-16912-pkg2-customrun">sh NVIDIA-Linux-x86-169.12-pkg2-custom.run</h1>

<p> </p>

<p>patch下载地址</p>

<p>http://www.nvnews.net/vbulletin/attachment.php?attachmentid=30771&amp;d=1205875946</p>

<p>果然在恢复169.12后emacs gtk恢复正常了 </p>

<p> </p>

<p> </p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2008-04-26T00:00:00+08:00" pubdate data-updated="true">Apr 26<span>th</span>, 2008</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2008/04/26/2.6.25%E4%B8%8B%E5%AE%89%E8%A3%85169.12%E9%A9%B1%E5%8A%A8/#disqus_thread">Comments</a></div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/17/" class="prev">Prev</a>
    
    
        <a href="/blog/page/19/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2014

Chandler Wei

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
            inlineMath: [ ['$', '$'] ],
                displayMath: [ ['$$', '$$']],
                    processEscapes: true,
                        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                          },
                            messageStyle: "none",
                              "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'chandlerweisblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>