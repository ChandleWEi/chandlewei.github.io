
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>ChandleWEi's Blog</title>
  <meta name="author" content="Chandler Wei">

  
  <meta name="description" content="如果你有10,000,000个用户，每周需要給他们发送最新的推广邮件，你可能会从数据库中这样操作: User.each do user NewsLetter.weekly_deliver(user) end 但这样做会让ruby从数据库中一次取出10,000,000条数据，并创建10,000, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ChandleWEi.github.io/blog/page/7">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="ChandleWEi's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">ChandleWEi's Blog</a></h1>
  
    <h2>Welcome to our life, Roy</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ChandleWEi.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/16/find_in_batches/">Find_in_batches</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-16T00:00:00+08:00" pubdate data-updated="true">Sep 16<span>th</span>, 2010</time>
        
           | <a href="/blog/2010/09/16/find_in_batches/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2010/09/16/find_in_batches/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>如果你有10,000,000个用户，每周需要給他们发送最新的推广邮件，你可能会从数据库中这样操作:</p>

<table>
  <tbody>
    <tr>
      <td>User.each do</td>
      <td>user</td>
      <td>NewsLetter.weekly_deliver(user) end</td>
    </tr>
  </tbody>
</table>

<p>但这样做会让ruby从数据库中一次取出10,000,000条数据，并创建10,000,000个对象，服务器内存会大量消耗，因此这样做是不行的，<br />
从rails 2.3开始你就可以使用find_each和find_in_batches方法了，这两个方法专门用于分批查询数据和处理，默认情况下 find_each和find_in_batches每次会查出1000条数据记录，你可以可以指定每次取出的数量:batch_size，</p>

<table>
  <tbody>
    <tr>
      <td>User.find_each do</td>
      <td>user</td>
      <td>NewsLetter.weekly_deliver(user) end</td>
    </tr>
  </tbody>
</table>

<p>find_in_batches是返还一个数据对象:</p>

<table>
  <tbody>
    <tr>
      <td>User.find_in_batches(:batch_size =&gt; 5000) do</td>
      <td>users</td>
      <td>users.each {</td>
      <td>user</td>
      <td>NewsLetter.weekly_deliver(user) } end</td>
    </tr>
  </tbody>
</table>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/13/%E5%BD%93IOS_SDK%E5%8D%87%E7%BA%A7%E5%88%B0_4.x%E4%B9%8B%E5%90%8E./">当IOS_SDK升级到_4.x之后.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-13T00:00:00+08:00" pubdate data-updated="true">Sep 13<span>th</span>, 2010</time>
        
           | <a href="/blog/2010/09/13/%E5%BD%93IOS_SDK%E5%8D%87%E7%BA%A7%E5%88%B0_4.x%E4%B9%8B%E5%90%8E./#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2010/09/13/%E5%BD%93IOS_SDK%E5%8D%87%E7%BA%A7%E5%88%B0_4.x%E4%B9%8B%E5%90%8E./">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>当IOS SDK升级到 4.x之后.<br />
你在测试编译时能够选择的SDK 只有4.x<br />
很多人担心这样3.x环境下的IOS执行这种程序会有问题<br />
所以有人把SDK 3.x复制到xcode目录下来做兼容<br />
其实在真正发布的时候<br />
只在在project属性-&gt;Build-&gt;Deployment-&gt;iPhone Deployment Target里面选择对应的IOS版本即可<br />
  <a href="http://www.hiadmin.com/wp-content/uploads/2010/09/IOS.png"> <img src="http://www.hiadmin.com/wp-content/uploads/2010/09/IOS-300x217.png" alt="" title="IOS" /> </a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/13/zz_%E9%AB%98%E6%80%A7%E8%83%BDMySQL%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9A%E6%89%BE%E5%87%BA%E8%B0%81%E6%8C%81%E6%9C%89%E9%94%81/">zz_高性能MySQL读书笔记：找出谁持有锁</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-13T00:00:00+08:00" pubdate data-updated="true">Sep 13<span>th</span>, 2010</time>
        
           | <a href="/blog/2010/09/13/zz_%E9%AB%98%E6%80%A7%E8%83%BDMySQL%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9A%E6%89%BE%E5%87%BA%E8%B0%81%E6%8C%81%E6%9C%89%E9%94%81/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2010/09/13/zz_%E9%AB%98%E6%80%A7%E8%83%BDMySQL%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%9A%E6%89%BE%E5%87%BA%E8%B0%81%E6%8C%81%E6%9C%89%E9%94%81/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>##  </p>

<p>从 <a href="https://www.google.com/reader/view/feed/http%3A%2F%2Fhi.baidu.com%2Fthinkinginlamp%2Frss">老王的技术手册</a> 作者：thinkinginlamp</p>

<p>有 15 人喜欢此条目</p>

<p>作者：老王  </p>

<p>周末重读了一遍《高性能MySQL》，发现有些知识点看过便忘了，没有实际动手操作一遍就是记不牢，所以今天动手操作了一下“找出谁持有锁”，并把实验步骤记录下来，有兴趣的网友可以参照一二。  </p>

<p>问题的背景：在实际使用MySQL时，如果访问量比较大，那么很可能会出现大量Locked状态的进程，但是却不能方便的识别是哪条SQL引起的问题，很 多人遇到此类问题时，多半是通过PhpMyAdmin查询可疑SQL，然后KILL掉，但问题是可疑SQL可能会很多，这样逐一尝试太过笨拙，有的人一怒 之下很可能会重启MySQL，但如此治标不治本的方法肯定更不可取。  </p>

<p>开始实验，在test数据库先建立一个测试表foo（注意：是InnoDB表类型），添加若干数据：  </p>

<p>CREATE TABLE IF NOT EXISTS <code>foo</code> (<br />
<code>id</code> int(10) unsigned NOT NULL AUTO_INCREMENT,<br />
<code>str</code> varchar(100) NOT NULL,<br />
PRIMARY KEY (<code>id</code>)<br />
) ENGINE=InnoDB;  </p>

<p>INSERT INTO <code>foo</code> (<code>id</code>, <code>str</code>) VALUES<br />
(1, ‘a’),<br />
(2, ‘b’);  </p>

<p>打开一个MySQL命令行终端：  </p>

<p>mysql&gt; USE test;<br />
mysql&gt; SELECT SLEEP(12345) FROM foo;  </p>

<p>再打开一个MySQL命令行终端：  </p>

<p>mysql&gt; USE test;<br />
mysql&gt; UPDATE foo SET str=’bar’;  </p>

<p>此时执行SHOW PROCESSLIST，可以看到已经出现Locked现象了：  </p>

<p>10  User sleep  SELECT sleep(12345) FROM foo<br />
20  Locked      UPDATE foo SET str = ‘bar’  </p>

<p>当然，我们知道是SLEEP堵塞了UPDATE，但如果不是这个实验，面对同样的情况，比如说几百个SQL查询同时映入眼帘，我们如何来判断呢？此时没人能打包票，只能瞎蒙了，经验有时候很重要，但我们还需要明确的命令，在这里就是：  </p>

<p>mysqladmin debug  </p>

<p>注意：如何你没有设定“.my.cnf”配置文件的话，可能需要输入用户名和密码参数  </p>

<p>命令执行后，不会有任何明确的输出，不要着急，有价值的东西此时已经被保存到了错误日志里：  </p>

<p>mysql&gt; SHOW VARIABLES LIKE ‘log_error’;  </p>

<p>找到错误日志的具体路径后，打开，查看日志的最后部分：  </p>

<p>10  test.foo    Locked - read       Low priority read lock<br />
20  test.foo    Waiting - write     High priority write lock  </p>

<p>如此，我们就能看到id是10的SQL堵塞了id是20的SQL，至于具体的SQL，到SHOW PROCESSLIST里对照一下就</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/09/15/wintoflash/">Wintoflash</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-15T00:00:00+08:00" pubdate data-updated="true">Sep 15<span>th</span>, 2009</time>
        
           | <a href="/blog/2009/09/15/wintoflash/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2009/09/15/wintoflash/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>WinToFlash  winpe linux</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/28/mysql_slow_log/">Mysql_slow_log</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-28T00:00:00+08:00" pubdate data-updated="true">Aug 28<span>th</span>, 2009</time>
        
           | <a href="/blog/2009/08/28/mysql_slow_log/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2009/08/28/mysql_slow_log/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="mysqldumpslowmysqlslow-query-log">用mysqldumpslow分析mysql的slow query log</h1>

<p>2007年六月7日 由 贝贝爸 <a href="http://www.juyimeng.com/analyze-mysql-slow-query-log-with-mysqldumpslow.html#comments">Leave a reply »</a></p>

<p><strong>mysql</strong>有一个功能就<strong>是</strong>可以<strong>log</strong>下来运行的比较慢的sql语句，默认<strong>是</strong>没有这个<strong>log</strong>的，为了开启这个功能，要修改my.cnf或者在<strong>mysql</strong>启动的时候加入一些参数。如果在my.cnf里面修改，需增加如下几行</p>

<p>long_query_time = 1<br />
<strong>log</strong>-<strong>slow</strong>-queries = /var/youpath/<strong>slow</strong>.<strong>log</strong><br />
<strong>log</strong>-queries-not-using-indexes</p>

<p>long_query_time <strong>是</strong>指执行超过多久的sql会被<strong>log</strong>下来，这里<strong>是</strong>1秒。<br />
<strong>log</strong>-<strong>slow</strong>-queries 设置把日志写在那里，可以为空，系统会给一个缺省的文件_host_name_-<strong>slow</strong>.<strong>log</strong>，我生成的<strong>log</strong>就在<strong>mysql</strong>的data目录<br />
<strong>log</strong>-queries-not-using-indexes 就<strong>是</strong>字面意思，<strong>log</strong>下来没有使用索引的query。</p>

<p>把上述参数打开，运行一段时间，就可以关掉了，省得影响生产环境。</p>

<p>接下来就<strong>是</strong>分析了，我这里的文件名字叫host-<strong>slow</strong>.<strong>log</strong>。<br />
先<strong>mysql</strong>dump<strong>slow</strong> –help以下，俺主要用的<strong>是</strong><br />
-s ORDER what to sort by (t, at, l, al, r, ar etc), ‘at’ is default<br />
-t NUM just show the top n queries<br />
-g PATTERN grep: only consider stmts that include this string</p>

<p>-s，<strong>是</strong>order的顺序，说明写的不够详细，俺用下来，包括看了代码，主要有<br />
c,t,l,r和ac,at,al,ar，分别<strong>是</strong>按照query次数，时间，lock的时间和返回的记录数来排序，前面加了a的时倒叙<br />
-t，<strong>是</strong>top n的意思，即为返回前面多少条的数据<br />
-g，后边可以写一个正则匹配模式，大小写不敏感的</p>

<p><strong>mysql</strong>dump<strong>slow</strong> -s c -t 20 host-<strong>slow</strong>.<strong>log</strong><br />
<strong>mysql</strong>dump<strong>slow</strong> -s r -t 20 host-<strong>slow</strong>.<strong>log</strong></p>

<p>上述命令可以看出访问次数最多的20个sql语句和返回记录集最多的20个sql。<br />
<strong>mysql</strong>dump<strong>slow</strong> -t 10 -s t -g “left join” host-<strong>slow</strong>.<strong>log</strong><br />
这个<strong>是</strong>按照时间返回前10条里面含有左连接的sql语句。</p>

<p>用了这个工具就可以查询出来那些sql语句<strong>是</strong>性能的瓶颈，进行优化，比如加索引，该应用的实现方式等。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/17/zz_%E5%8F%AA%E7%AE%A1%E5%8E%BB%E5%81%9A-%E7%94%A8emacs%E7%9A%84org-mode%E5%81%9A%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/">Zz_只管去做-用emacs的org-mode做时间管理</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-17T00:00:00+08:00" pubdate data-updated="true">Aug 17<span>th</span>, 2009</time>
        
           | <a href="/blog/2009/08/17/zz_%E5%8F%AA%E7%AE%A1%E5%8E%BB%E5%81%9A-%E7%94%A8emacs%E7%9A%84org-mode%E5%81%9A%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2009/08/17/zz_%E5%8F%AA%E7%AE%A1%E5%8E%BB%E5%81%9A-%E7%94%A8emacs%E7%9A%84org-mode%E5%81%9A%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="zz-emacsorg-mode-httpblogchinaunixnetu150920showart424394html"><a href="http://blog.chinaunix.net/u1/50920/showart_424394.html">[zz]只管去做-用emacs的org-mode做时间管理 </a></h1>

<h3 id="wheer">wheer</h3>

<h1 id="section">目录</h1>

<p><a href="http://cnlox.is-programmer.com/#tth_sEc1">1  序</a><br />
  <a href="http://cnlox.is-programmer.com/#tth_sEc2">2  收集、处理</a><br />
  <a href="http://cnlox.is-programmer.com/#tth_sEc3">3  规划、执行</a><br />
  <a href="http://cnlox.is-programmer.com/#tth_sEc4">4  回顾、简化</a><br />
  <a href="http://cnlox.is-programmer.com/#tth_sEc5">5  反省、激情</a><br />
  <a href="http://cnlox.is-programmer.com/#tth_sEc6">6  完结</a></p>

<h2 id="section-1">1  序</h2>

<p>用org-mode有一周了，期间翻了翻戴维·艾伦的《尽管去做-无压工作的艺术》(getting things done, GTD)一书，感觉这个理念很有意思，我喜欢。</p>

<p>GTD 没有和别的时间管理方法混为一谈，自然是有其特别的地方的。先想想像planner之类的时间管理工具，不外是先定大目标，小目标，然后细分为许多可操作 性强的事，安排到每一天。如此由上而下的理念已被绝大部分人所接受，但饶是如此，大家仍然感觉每天是在疲于奔命，说不好哪天会冒出一堆意料之外的事，逼着 你变身救火队员; 或者说突然接到老板一个不可抗拒的命令，使得你的所有计划泡汤。。</p>

<p>那究竟是什么地方出了问题呢，至少有几点：</p>

<ol>
  <li>自上而下列举事项的方式可能让你照顾不到一些细微不入流的事项，而这些事在任何一天都有可能爆发</li>
  <li>你列出的事有些不是必须当天做的，强制列上会牵制你的精力</li>
  <li>一般的时间管理只列出了你很少一部分而不是全部要操心的事，仍然有大量琐事在你心中萦绕，影响工作效率</li>
  <li>任何临时突发事件均使得你先前的安排作费</li>
</ol>

<p>而GTD的出现正是针对以上几点的。在正式进入正题之间，我们应该先确立一些理念，因为要做好任何事都是需要信仰的(正如开源、Emacs、LATEX，没有信仰是坚持不下来的:)，具体如下</p>

<ol>
  <li>心中装的事情越少，工作效率越高</li>
  <li>事情极少由于时间匮乏而受阻(尽管每个人都这么认为)，它们陷入困境往往是由于一开始不知道如何采取行动而造成的</li>
  <li>自下而上地将所有可能萦绕在你心中的事列出来，用一个可靠的外部体系来替你管理它们</li>
  <li>收集自己所有的想法，只鼓励不打击，追求数量不求质量</li>
  <li>经常回顾、整理那个外部体系，分析每件事并确定下一步行动</li>
</ol>

<h2 id="section-2">2  收集、处理</h2>

<p>根据只管去做(GTD)的理念，你需要一个可靠的外部系统来接管所有可能扰乱你心绪的事情，而你的心中应该是无所牵挂，可以”只管去做”的。</p>

<p>在这里，org-mode自然就是那个可靠的外部系统了，这在emacs23下是自带的，稍稍在.emacs下加点配置</p>

<p>(add-to-list ’auto-mode-alist ’(“.org$” . org-mode))<br />
(define-key global-map ”C-cl” ’org-store-link)<br />
(define-key global-map ”C-ca” ’org-agenda)<br />
(setq org-hide-leading-stars t)<br />
(setq org-log-done t)  </p>

<p>下面就正式开始吧，先建个文件夹，如 /.org/，在里面新建org文件，比如与工作无关的个人事务都放在self.org里，它的大概样子如下(第一行以后再解释)：</p>

<p>+TAGS: EASY(e) COMM(c) OFFICE(o) READ(r) URGENT(u) FUTURE(f) WAIT(w) MEMO(m)<br />
* 阅读、充电<br />
** 计算机<br />
* 强身健体<br />
** 力量、健美<br />
** 有氧运动<br />
* 人际关系<br />
* Basket<br />
** 临时篮子  </p>

<p>然后就开始静下心来，耐心地，自下而上地将你所有萦绕于心中的所有事情转移到这个系统中去。记住是所有，不要留任何隐患，所有具体不具体的，成熟不成熟的都要写下来，总之就是不要让它再幽魂不散地骚扰你的心境了。</p>

<p>比如说，你今天发现图书馆新开的自习室里有很多你感兴趣的新书，总时不时地觉得该提高一下表达能力、写作能力、演讲能力，还有一堆书想看，希望能培 养良好的阅读习惯，还想学用blender作三维建模，想起北京秋天不长了，该出去享受一下阳光顺便活动一下生锈的筋骨了，想起本科同学好久不联系 了。。。都写下来吧，不管是些具体的事、模糊的意向还是些不成熟的想法，先记下来再说。初次做这个大概需要一两个小时，写下上百条都不要奇怪，往后就要靠 平常注意积累了。</p>

<p>以下仍然只是个示例：</p>

<h1 id="tagseasyecommcofficeoreadingrurgentufuturefwaitwmemom">+TAGS: EASY(e) COMM(c) OFFICE(o) READING(r) URGENT(u) FUTURE(f) WAIT(w) MEMO(m)</h1>
<p>* 阅读、充电<br />
** 养成阅读习惯<br />
*** 没有条件创造条件也要上，晚上远离电脑两个小时，去图书馆 :EASY:<br />
*** TODO 下载感兴趣的jar电子书传到手机上，利用一切间隙看<br />
** 计算机<br />
*** 阅读&lt;Mastering Algorithms with perl&gt;         :FUTURE:<br />
*** 学习blender三维建模                         :FUTURE:<br />
** 英语<br />
*** 千万别学英语                                 :EASY:<br />
  - [ ] 每天反复听同一盒磁带<br />
  - [ ] 反复听一个月后听写、跟读<br />
* 强身健体<br />
** 力量、健美<br />
*** TODO 去趟天成买对哑铃                         :EASY:<br />
** 有氧运动<br />
*** 去八达岭残长城转转<br />
*** 参加一次1.3+级的穿越<br />
*** 骑车绕北京城半圈<br />
* 人际关系<br />
*** 好久没见老同学了<br />
* Basket<br />
** 临时篮子<br />
*** 文献中心二楼的研究生自习室很好，很强大         :MEMO:<br />
*** 提高一下表达、写作能力                         :URGENT:<br />
*** 提高演讲能力                                 :FUTURE:<br />
*** 阅读<哲学的故事>                             :READING:  </哲学的故事></p>

<p>所有事项都以*开头，*数目代表了级数，org-mode其实就是一种outline mode，带*的是outline项。org-mode支持对outline项作以下操作(鼠标在outline项上)：</p>

<ol>
  <li>TAB折叠、打开子项，Shift-TAB折叠、打开整个文档</li>
  <li>C-c C-c指定当前项标签，如上面的:URGENT:, :MEMO:等，方便以后分类查找</li>
  <li>M-左右方向键减/增*数目</li>
  <li>M-上下方向键移动当前项位置</li>
  <li>C-c C-t设定当前项状态为TODO DONE或空白</li>
  <li>C-c C-s规划时间(只建议用于约会或非此时不可的情形)</li>
  <li>C-c C-d设定最后期限(deadline)</li>
</ol>

<p>好了，现在假设你现在已经有了一个长达几百行的列表，千万别让它就这么堆着，那样你就前功尽弃了，好不容易从脑中清除出来的东西可能过不多久又重新萦绕在你脑中。你现在要做的便是清理你放在这个你所依赖的系统里的所有信息，具体过程如下:</p>

<ol>
  <li>逐一处理，马上作出决定，不要积压</li>
  <li>如果认定是垃圾，删除</li>
  <li>如果可委派别人，委派出去，将该项标签设为:WAIT:，这个标签下的事情都不用你干(爽吧)</li>
  <li>2分钟可完成的立刻干掉</li>
  <li>应该尽快采取行动但超过2分钟的，C-c C-t设为TODO</li>
  <li>这是一件不具体的事务(如养成阅读习惯)，那么确定如何实施下一步(创造条件，下载jar书)</li>
  <li>也许在将来再做的事设标签为:FUTURE:</li>
  <li>不要剩余有未处理的事项，以后注意随时添加，及时检查处理(比如前面的例子就还有四、五项未处理，不应该)</li>
</ol>

<h2 id="section-3">3  规划、执行</h2>
<blockquote>
  <p>一个大学讲师在上课的时候带了一袋沙子、一袋小鹅卵石、几块大石头和一个木桶，问有没有人能把这几种不同形状的东西都装进木桶。一个热心的学生自告奋勇走 上讲台随手抓起沙袋就往木桶里倒，然后把小鹅卵石也放了进去，但是轮到大石头的时候，他发现木桶里的空间已经不够了。讲师遗憾地摇了摇头。他把木桶清空 了，先把那几块大石头放进木桶，再把小鹅卵石放进去，然后倒入沙子。最后他摇了摇木桶，只见这三种不同形状的东西配合得天衣无缝，把木桶挤得满满的。</p>
</blockquote>

<p>我们做规划的第一个原则是优先放置大石头，每周前把一周要做的重要事情在org-mode中将其优先级设为最高(shift+上下键设定每项的优化 级)，但设定的事情尽量要少，因为这些事情是必须完成而且应尽早完成的。至于要不要一开始就设定日期，就看个人喜好了，有人在时限压力下工作更好，有人则 会产生焦虑，但一般GTD不建议一开始将日期都定好（当然一些本身具有时限性的事情除外)。</p>

<p>然后是每天的规划了，同样是应当确定大石头，一般是两到三件最重要的事，在org-mode中C-c C-s将其规划到当天，并且优先级设为最高(shift+上下键设定每项的优化级)，事情应该描述得尽量具体，且保证当天能完成(完不成就细化)。然后就 是尽早搞定你大石头了，一定不要找延误的理由，做完后表扬一下自己。至于其它事务，你一高兴当然会多少顺便做一些的，不是么？等一段时间后回头你就会发现 不少事在不知不觉中就完成了，特别是重要的事都没延误。</p>

<blockquote>
  <p>如果你有定力地全神贯注投入工作几个小时，一定会比不断分心的工作一天取得更多的成果。一般进入专注状态需要15分钟时间，所以 能保持专注状态的外界环境和心理环境十分重要。进入专注状态前花几分钟清空头脑中萦绕的琐事(写到org中)，总比你进入专注状态后再被干扰要好。</p>
</blockquote>

<p>至于执行，不用说，当然越专注越好，一次只做一件事，而做事时头脑中的琐事已经被事先清理出去了。另外，尽可能改善你的工作环境。</p>

<p>做完一件事后，C-c C-t改成DONE，然后表扬一下自己，再扫描一下清单，找出下一步要做的，记得应该是真正可执行的下一步。所有事情被延误就是因为没想好具体的下一步做 什么，而不是因为时间不够，所以要对任何看着不具体的事情花一分钟想想下一步做什么，这一分钟绝对花得值   </p>

<p>至于扫描清单，因为列表太长了，自然org-mode会贴心地提供一系列帮助你查找的方法：</p>

<ol>
  <li>C-c /: 在当前org中按关键词查看，比如你可查找某个tag如office：C-c / <ret> office <ret></ret></ret></li>
  <li>C-c a a: 日程表，在日程表状态下，d或w为按日或周查看，.为跳到当日，左右键为前后一天(周)</li>
  <li>C-c a t: 列出所有TODO，每项上按中键可跳到对应的org，至于其中的操作也很方便，自己看菜单了解一下吧</li>
  <li>C-c a m: 根据tag来查找，这就是一开始每件事都要用标签定性的原因，这时候查就方便了，比如你要办公室就查office，要外出就看看trip中有什么可顺便完 成的事，觉得头脑发胀要换思路就查查有什么easy的事，如果想气使颐指一下就看看wait中别人有什么事没给你做完，正豪情万丈中就看看future中 有什么伟大的规划….</li>
  <li>c-a a M: 根据tag来查找，但只针对TODO项</li>
  <li>另外C-a a C可以自定义一些查找方式，自己试试吧</li>
</ol>

<h2 id="section-4">4  回顾、简化</h2>

<p>这里的回顾不是指周末或每天晚上的反省，而是对目标和org-mode中所记录的所有事情的回顾。</p>

<p>每周回顾的重要意义在此: 它给了你一次机会, 来重新整理所有的事情并检视什么是最重要的任务。 以下是GTD每周回顾的一些步骤：</p>

<ol>
  <li>回顾你的长期目标，中期目标和短期目标</li>
  <li>将没归类的(一般集中放在最后，或者平时用纸记着)、还没确定下一步是什么的事情逐一处理、具体化，加上标签(C-c C-c)，归入相应情境</li>
  <li>C-c a a 看看日程表，看看有什么约会或有deadline的事</li>
  <li>按每种情境(C-c a m)查看任务清单，心里有数</li>
  <li>设定大石头，但不着急放到每一天</li>
</ol>

<p>至于每一天开始时的回顾，最重要的就是先设定三件最重要的事了，三件就行了，而且描述得尽量具体可行，尽量在早晨就完成，这样在反省时不至于觉得当天没做什么。还有就是三块大石头中应当有一件与你的中长期目标或人生规划相关，这样能增进成就感。</p>

<p>再有就是简化，因为GTD始终原则就是保证你能专注地只管去做一件事。它建立一个系统帮助你把头绪里的琐事清理出来就是为了你专注，它不提前把乱七 八糟的事安排满你的日程也是为了你专注，它每天只在日程中定三件事同样是为了你专注。那么你的org-mode中列表那么长是不是有点影响你的专注了哈， 那就简化它吧。</p>

<ol>
  <li>清除。有时候我们认真权衡一下会发现很多事是没必要做或可以拖延的，还有很多事2分钟就搞定了，这些都清除或搞定之</li>
  <li>对你的目标足够明确，然后结合你的目标来筛选，同样还有可清除的</li>
  <li>减少你的承诺</li>
  <li>把能堆一起的波速堆一起，合适时突击全部完成</li>
  <li>永远只在当日日程中只安排三件事，最重要的三件，而且有一件与你的中长期规划有关</li>
  <li>将 一些琐碎的东西分离出去，比如我的日程表(C-c a)只搜索两个org文件:work.org, self.org，但我可以还有其它一堆org文件，比如是某门学科或某本书的研习计划(顺便说一下用org做学习笔记不错，比如可先列出书中章节，每章 节下面用 - [ ] Question 的形式列出所有要了解的问题，了解每一项后更新问题答案并C-c C-c之使其变成 - [X] Answer 的形式) 对于分离出去的org文件，可以用[[file:name.org][description]]的形式来相互链接。事实上, org提供的链接功能很强，甚至可用shell命令。</li>
</ol>

<h2 id="section-5">5  反省、激情</h2>

<p>用GTD或者org-mode做时间管理的根本目的就是要掌控自己的生活，既不要被一些毫无意义的事情耽延，也不要陷入看起来没完没了的工作中被消磨掉所有锐气。</p>

<p>要想保持锐气和激情，那么我们就需要反省和自我激励，良性的心理暗示起到的作用绝对是你预想不到的。</p>

<p>为了充分反省，不妨新建个review.org，没必要加入日程表中，内容示例如下，当然究竟写成什么样必须根据你个人情况来，自己构想来的系统用起来才真正有效：</p>

<p>* REVIEW<br />
** 每日反思<br />
 - [ ] 今天我有什么样的付出？我是用什么的方式付出？<br />
 - [ ] 今天三块大石头是什么？哪项与我的人生规划有关？都放下了吗？没有的话，下一步是什么？<br />
    - [ ] 1.<br />
    - [ ] 2.<br />
    - [ ] 3.<br />
 - [ ] 今天我学到了什么？<br />
 - [ ] 今天我给自己的人生提高了什么品质？对于未来，我在今天作了什么样的投资？<br />
** 周末反思<br />
 - [ ] 这周的规划都完成？效果如何？<br />
 - [ ] 这周的工作有没有陷入手忙脚乱中？哪些需要调整？<br />
 - [ ] 这周的工作状态是不是专注？是什么事情让我分神或担忧？怎么消除？<br />
 - [ ] 这周有什么事情坚持每天做了(如背英语文章、看书、培养某项习惯等)？如果没有，为什么不坚持？<br />
** 感觉无趣时反思一下<br />
 - [ ] 此刻人生中有什么让我觉得快乐？让我快乐到什么程度？带给我什么样的感受？<br />
 - [ ] 此刻人生中有什么让我觉得振奋？让我振奋到什么程度？带给我什么样的感受？<br />
 - [ ] 此刻人生中有什么让我觉得感激？让我感激到什么程度？带给我什么样的感受？<br />
 - [ ] 此刻人生中有什么让我觉得欣赏？让我欣赏到什么程度？带给我什么样的感受？<br />
 - [ ] 此刻人生中有什么值得我努力的？让我努力到什么程度？带给我什么样的感受？<br />
 - [ ] 我喜欢什么样的人？什么的人喜欢我？让我喜欢到什么程度？带给我什么样的感受？  </p>

<p>最后很重要的一点就是做你想做的事。试想你每天在做的每一件事都是你所喜欢做的，那么你肯定会愿意付出更多努力来做你想做的事的，也就是说，耽延自 然就会少了，事情也就几乎不可能被堆积下来(前面不止一次说过，事情没完成永远不会是因为时间不够，要么是你不知道下一步怎么走，要么就是你根本没走)</p>

<p>你也许会笑：”做我想做的事，说得轻巧，由得了我吗？”那么我问你，你知道你究竟想做什么吗？如果你知道了，你知道下步是什么吗？你所说的下一步已经具体到马上可以执行了吗？如果以上你的回答都是，那么为什么不去做呢？</p>

<p>比如说你现在的工作烦透了，是该反省做改变的时候了，那就在review.org后面加上：</p>

<p>** 我要找份喜欢的工作<br />
*** 调查<br />
  - [ ] 有谁在从事你心仪的工作？<br />
  - [ ] 他们是如何得到这份工作的？<br />
  - [ ] 获取这份工作有什么要求与标准？或者说绊脚石是什么？<br />
      - [ ] 一份更高的学位?<br />
      - [ ] 一份不错的工作经验?<br />
      - [ ] 或者其他的技能？<br />
*** 设定计划：想出一些有用的方法去解决你的绊脚石<br />
  - [ ] 进修、培训<br />
  - [ ] 求教，有意积累相关经验<br />
  - [ ] 自学<br />
*** 开始行动, 不要等待<br />
  - [ ] 每天反省：我有没除掉了哪颗绊脚石或向目标迈进了一步？下一步是什么？<br />
  - [ ] 每周反省：我有没有坚持不懈？下面该怎么走？  </p>

<h2 id="section-6">6  完结</h2>

<p>GTD(只管去做)是我在搜索org-mode时无意中看到的，其实也是粗粗看了一下，可能远未得精髓，但还是挺喜欢这套理论的，包括org-mode也挺合我品味，不仅用来做日常计划，还读书笔记、学习计划和学习笔记都用它了。</p>

<p>至于我写的这份笔记，其实每篇写得都很仓促的，很大程度是为了完成任务而写的，哪位觉得写得太烂的请见谅。也许后续我会根据理解的加深重写一下。</p>

<p>关于GTD，原书和更多的资料可以从褪墨中找到，如果你对这个感兴趣，还是建议你去通读原著。至于org-mode，我觉得还是很强大的，自己用M-x org-info可看帮助，各位尽可以发挥自己的创造力和想象力来灵活运用。</p>

<p>当然你还可以将GTD结合其它理论来完善自己的系统，比如结合富兰克林自我修炼表格，将其第一列改成你每日反省或每周反省的项目。至于要反省的内 容，就看你自己了，比如你要改变你自私残忍的性格(开玩笑了)，或者你要改变作息，那都可以写上。另外也可像富兰克林一样，每段时间应特别重点关注其中一 项，等等。</p>

<p>最后说一下org-mode是可以导出为html或text的(还有xoxo格式其实也是html，自己试试看吧)。但默认的html样式实在不怎样，好在可自定义，先在.emacs上加：</p>

<p>(defcustom org-export-html-style<br />
“&lt;link rel=”stylesheet” type=”text/css” href=”wheer.css”&gt;” ””  
  :group ’org-export-html<br />
  :type ’string)  </p>

<p>然后输出的html就可以用自定义的css了，以下只是个示例：</p>

<p>html {font-family: Times, serif;font-size: 12pt;}<br />
.title,.author { display:none; }<br />
.todo { color: red; }<br />
.done { color: green; }<br />
.timestamp { color: grey }<br />
.timestamp-kwd { color: CadetBlue }<br />
.tag { background-color:lightblue; font-weight:normal }<br />
.target { background-color: lavender; }<br />
pre {border: 1pt solid #AEBDCC;background-color: #F3F5F7;<br />
    padding: 5pt;font-family: courier, monospace;}<br />
table { border-collapse: collapse; }<br />
td, th {vertical-align: top;border: 1pt solid #ADB9CC;}<br />
h2{ margin: 5px 0 10px 0;background-color: #AEC5CE; font-size:1.5em;}<br />
h3{ margin: 0px 0px 5px 0;padding: 5px 5px 5px 10px;<br />
    font-size:1.2em; border-top: solid 1px #9AB7C2;<br />
    border-bottom: solid 1px #9AB7C2; font-variant: small-caps; }<br />
h4{ color: black; margin: 3px 0px 5px 0px;<br />
  padding: 3px 5px 3px 15px; font-size: 1em;}<br />
h5{ color: black; margin: 3px 0px 3px 0px;<br />
  padding: 3px 5px 3px 25px; font-size: 1em;}<br />
p{ margin:0px 10px 0px 18px; }  </p>

<p> </p>

<hr />

<p>File translated from TEX by <a href="http://hutchinson.belmont.ma.us/tth/"> TTH</a>, version 3.80.<br />
On 9 Aug 2009, 11:35.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/12/gentoo_%E9%97%AE%E9%A2%98/">Gentoo_问题</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-12T00:00:00+08:00" pubdate data-updated="true">Aug 12<span>th</span>, 2009</time>
        
           | <a href="/blog/2009/08/12/gentoo_%E9%97%AE%E9%A2%98/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2009/08/12/gentoo_%E9%97%AE%E9%A2%98/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>1.修改 use 后怎么重新编译单个包</p>

<p>2.列出 app-benchmarks/ 类似目录下的所有软件包</p>

<p> </p>

<p>check process lighttpd with pidfile /var/run/lighttpd.pid<br />
start program = “/etc/init.d/lighttpd start”<br />
stop program = “/etc/init.d/lighttpd stop”<br />
if cpu &gt; 60% for 2 cycles then alert<br />
if cpu &gt; 80% for 5 cycles then restart<br />
if totalmem &gt; 200.0 MB for 5 cycles then restart<br />
if children &gt; 250 then restart<br />
if loadavg(5min) greater than 10 for 8 cycles then stop<br />
if failed host 127.0.0.1 port 82 protocol http<br />
then restart<br />
if failed host 127.0.0.1 port 443 type tcpssl protocol http<br />
with timeout 15 seconds<br />
then restart<br />
if 3 restarts within 5 cycles then timeout</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/07/gentoo_%E5%88%9D%E4%BD%93%E9%AA%8C/">Gentoo_初体验</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-07T00:00:00+08:00" pubdate data-updated="true">Aug 7<span>th</span>, 2009</time>
        
           | <a href="/blog/2009/08/07/gentoo_%E5%88%9D%E4%BD%93%E9%AA%8C/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2009/08/07/gentoo_%E5%88%9D%E4%BD%93%E9%AA%8C/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>今天安装gentoo</p>

<p>参考</p>

<p>安装</p>

<p>http://www.gentoo.org/doc/en/gentoo-x86-quickinstall.xml</p>

<p>xfce4</p>

<p>http://www.gentoo.org/doc/zh_cn/xfce-config.xml</p>

<p>a2ps 问题 参考</p>

<p>http://forums.gentoo.org/viewtopic-p-5760560.html</p>

<p>http://bugs.gentoo.org/269638</p>

<p> </p>

<p> </p>

<p>wireless</p>

<p>http://en.gentoo-wiki.com/wiki/Iwlwifi#Kernels_.3E.3D2.6.30</p>

<p>CONFIG_IWLWIFI_DEBUG:                                                     │ <br />
  │                                                                           │ <br />
  │ This option will enable debug tracing output for the iwlwifi drivers      │ <br />
  │                                                                           │ <br />
  │ This will result in the kernel module being ~100k larger.  You can        │ <br />
  │ control which debug output is sent to the kernel log by setting the       │ <br />
  │ value in                                                                  │ <br />
  │                                                                           │ <br />
  │       /sys/class/net/wlan0/device/debug_level                             │ <br />
  │                                                                           │ <br />
  │ This entry will only exist if this option is enabled.                     │ <br />
  │                                                                           │ <br />
  │ To set a value, simply echo an 8-byte hex value to the same file:         │ <br />
  │                                                                           │ <br />
  │         % echo 0x43fff &gt; /sys/class/net/wlan0/device/debug_level          │ <br />
  │                                                                           │ <br />
  │ You can find the list of debug mask values in:                            │ <br />
  │         drivers/net/wireless/iwlwifi/iwl-debug.h</p>

<p> </p>

<p>empathy</p>

<p>sudo emerge -av  empathy telepathy-mission-control telepathy-stream-engine telepathy-gabble telepathy-butterfly telepathy-haze telepathy-idle telepathy-salut telepathy-sofiasip pymsn</p>

<p> </p>

<p>====</p>

<p>WARNING: Deprecated config file /etc/modprobe.conf, all config files belong into /etc/modprobe.d/.</p>

<p>加入到 如果要加载 module 的话</p>

<p>真奇怪 官方文档上面说 如果是 /etc/modules.autoload.d/kernel.2.6 ＆＆ update-modules 的时候其实应该 可以的 但是不可以 freenode 上<matomic>给出的/etc/conf.d/modules</matomic></p>

<p> </p>

<p> </p>

<p>acpi在编译的时候 要把 deprecated 的file 的方式方上去，应为 xfce4 的battery默认使用这种方式</p>

<p> </p>

<p>字体 xfce4 要 在设置字体里面 加  AA, hit full, rgb</p>

<p> </p>

<p> </p>

<table>
  <tbody>
    <tr>
      <td>2.6.30 alsa 驱动直接内核里选择 选择哪个用lspci -v</td>
      <td>grep -i audio自己看 ，alsa-mixer 里面00 有声音 mm静音</td>
    </tr>
  </tbody>
</table>

<p>lib utils tools 装上</p>

<p> </p>

<p> </p>

<p>zen-overlay</p>

<p>emerge -av layman</p>

<p>layman -f</p>

<p>echo “source /usr/local/portage/layman/make.conf” » /etc/make.conf</p>

<p>layman -a zen-overlay</p>

<p>emerge -av zen-sources  </p>

<p>http://zen-sources.org/content/gentoo-install-guide</p>

<p> </p>

<p>http://www.gentoo.org/proj/en/overlays/userguide.xml</p>

<p> </p>

<p> </p>

<p> </p>

<p>/*&lt;![CDATA[*/ #usrbar{padding:4px 10px 3px 0;font-size:12px;height:19px;line-height:19px;color:#000000;font-family:Arial;text-align:right;background:#ffffff;filter:alpha(opacity=65);-moz-opacity:0.5;width:auto !important;width:100%;letter-spacing:normal} #usrbar a,#usrbar a:link,#usrbar a:visited{color:#0000CC;text-decoration:underline} #ft{clear:both;height:20px;line-height:20px;color:#666666;font-size:12px;font-family:Arial;text-align:center} #ft a,#ft a:link,#ft a:visited{color:#7777CC;text-decoration:underline} #usrbar,#usrbar a,#usrbar a:link,#usrbar a:visited,#ft,#ft a,#ft a:link,#ft a:visited{letter-spacing:normal} /*]]&gt;*/</p>

<table>
  <tbody>
    <tr>
      <td><a href="http://hi.baidu.com/">百度空间</a> </td>
      <td>  <a href="http://www.baidu.com/">百度首页</a> </td>
      <td><a href="https://passport.baidu.com/?login&amp;tpl=sp&amp;tpl_reg=sp&amp;u=http://hi.baidu.com%2Fshura%2Fblog%2Fitem%2F9641b21b4d029f1f8618bfca%252Ehtml">登录</a></td>
    </tr>
  </tbody>
</table>

<p><a href="http://hi.baidu.com/shura" title="shurarai的空间 http://hi.baidu.com/shura">hello,world!</a></p>

<p> </p>

<table>
  <tbody>
    <tr>
      <td><a href="http://hi.baidu.com/shura">主页</a> <a href="http://hi.baidu.com/shura/blog">博客</a> <a href="http://hi.baidu.com/shura/album">相册</a></td>
      <td><a href="http://hi.baidu.com/shura/profile">个人档案</a></td>
      <td><a href="http://hi.baidu.com/shura/friends">好友</a></td>
    </tr>
  </tbody>
</table>

<p>|   |<br />
查看文章
  |   |   |</p>

<p>gentoo HOWTO 增加字体</p>

<p>2008-08-22 15:00</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<h2 id="section">手工添加</h2>

<p>如果您需要手工添加 <a href="http://zh.gentoo-wiki.com/index.php?title=Portage&amp;action=edit&amp;redlink=1" title="Portage (尚未撰写)">Portage</a>里尚未提供或不能提供的字体，您按照下面的步骤手工添加。此处以simsun.ttc为例。</p>

<h3 id="section-1">拷贝字体</h3>

<p>拷贝字体文件到/usr/share/fonts下的一个文件夹里，比如/usr/share/fonts/TTF。然后修改文件权限</p>

<table>
  <tbody>
    <tr>
      <td><strong>代码：</strong> 修改权限</td>
    </tr>
    <tr>
      <td> </td>
    </tr>
    <tr>
      <td># chmod 644 /usr/share/fonts/TTF/simsun.ttc</td>
    </tr>
  </tbody>
</table>

<h3 id="etcx11xorgconf">修改/etc/X11/xorg.conf</h3>

<p>保证/etc/X11/xorg.conf的Section “Files”里有相应的路径，比如：</p>

<table>
  <tbody>
    <tr>
      <td><strong>文件：</strong> /etc/X11/xorg.conf</td>
    </tr>
    <tr>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>Section “Files”<br />
…<br />
FontPath “/usr/share/fonts/TTF”<br />
…<br />
EndSection
  |</p>

<h3 id="fontsdirfontsscale">产生fonts.dir和fonts.scale</h3>

<p>这一步的作用是为了使使用X核心字体API的程序可以利用本字体。这类程序的例子有xterm，emacs，xmms等。</p>

<p>安装 <a href="http://gentoo-portage.com/Search?search=x11-apps/mkfontdir" title="ebuild:x11-apps/mkfontdir">x11-apps/mkfontdir</a>和 <a href="http://gentoo-portage.com/Search?search=x11-apps/mkfontscale" title="ebuild:x11-apps/mkfontscale">x11-apps/mkfontscale</a>并产生fonts.dir和fonts.scale</p>

<p>| <strong>代码：</strong> 安装mkfontdir和mkfontscale |
|<br />
$ emerge mkfontdir mkfontscale<br />
$ cd /usr/share/fonts/TTF<br />
$ sudo mkfontdir<br />
$ sudo mkfontscale |</p>

<h3 id="fontconfigcache">更新fontconfig的cache</h3>

<p>这一步的作用是为了使使用fontconfig来配置字体的程序可以利用本字体。qt程序和gtk+2程序皆属此类。</p>

<table>
  <tbody>
    <tr>
      <td><strong>代码：</strong> fc-cache -fv</td>
    </tr>
    <tr>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>$ sudo fc-cache -fv</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<h2 id="section-2">验证安装成功</h2>

<table>
  <tbody>
    <tr>
      <td>** 提示！** 做完上面这些步骤之后您可能需要重启一下你的X,然后继续下面的操作</td>
    </tr>
  </tbody>
</table>

<h3 id="xapi">使用X核心字体API的程序</h3>

<p>安装 <a href="http://gentoo-portage.com/Search?search=x11-apps/xlsfonts" title="ebuild:x11-apps/xlsfonts">x11-apps/xlsfonts</a>，执行xlsfonts看是否可以列出刚才安装的字体名。X核心字体的名字很长，比如：</p>

<p>| <strong>代码：</strong> X核心字体名 |
|<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-ascii-0<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-gb18030.2000-0<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-gb2312.1980-0<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-gbk-0<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-ibm-cp850<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-iso10646-1<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-iso8859-1<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-iso8859-15<br />
-misc-simsun-medium-r-normal–0-0-0-0-c-0-koi8-r |</p>

<p>如果有，那么xmms这样的程序就可以使用。</p>

<table>
  <tbody>
    <tr>
      <td>** 提示！** xlsfonts命令需要在X下的Terminal执行,不然你需要加参数-display displayname指定displayname</td>
    </tr>
  </tbody>
</table>

<h3 id="fontconfig">使用fontconfig的程序</h3>

<p>执行fc-list看是否可以列出刚才安装的字体名。</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>©2009 Baidu
  <img src="http://c.baidu.com/c.gif?t=6&amp;p=3" alt="" />  </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/31/curl/">Curl</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-31T00:00:00+08:00" pubdate data-updated="true">Jul 31<span>st</span>, 2009</time>
        
           | <a href="/blog/2009/07/31/curl/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2009/07/31/curl/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>天尝试使用curl请求lighttpd数据，发现总是报错(417) Expectation Failed。<br />
经查，是lighttp不支持curl默认发送的头信息: Expect: 100-continue.  </p>

<p>解决方式：  </p>

<p>在curl中指定发送一个空的Except头信息即可解决。<br />
代码：  </p>

<p>curl_setopt($ch, CURLOPT_HTTPHEADER, array(‘Expect:’));</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/07/24/c_%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/">C_语言学习</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-24T00:00:00+08:00" pubdate data-updated="true">Jul 24<span>th</span>, 2009</time>
        
           | <a href="/blog/2009/07/24/c_%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/#disqus_thread"
             data-disqus-identifier="http://ChandleWEi.github.io/blog/2009/07/24/c_%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>要加 stdlib.h就没有警告了</p>

<p> </p>

<p>more01.c: In function ‘main’:<br />
more01.c:22: warning: incompatible implicit declaration of built-in function ‘exit’<br />
more01.c: In function ‘do_more’:<br />
more01.c:42: warning: incompatible implicit declaration of built-in function ‘exit’</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/8/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/6/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/27/xcode-fake-cert/">Xcode Fake Cert</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/17/latex-test/">Latex Test</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/17/go-wait-example/">Go Wait Example</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/11/first-touch/">First Touch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/06/01/%5B%E8%BD%AC%EF%BC%BDiphone_openvpn/">[转］iphone_openvpn</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
Copyright &copy; 2014 - Chandler Wei -
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>
<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
            inlineMath: [ ['$', '$'] ],
                displayMath: [ ['$$', '$$']],
                    processEscapes: true,
                        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                          },
                            messageStyle: "none",
                              "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>


</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'chandlerweisblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
